<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
		<base target="_top">
	<title>14955773 REVEALED: The dirtiest places in the airport... and the area that has more germs than a toilet seat</title></head>
	<body>
	

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t}function o(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(r,t)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function a(t){var e=r(t);return(e.local?i:o)(e)}function l(){}function u(t){return null==t?l:function(){return this.querySelector(t)}}function s(){return[]}function c(t){return null==t?s:function(){return this.querySelectorAll(t)}}function h(t){return function(){return this.matches(t)}}function f(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function d(t,e,n,r,o,i){for(var a,l=0,u=e.length,s=i.length;l<s;++l)(a=e[l])?(a.__data__=i[l],r[l]=a):n[l]=new p(t,i[l]);for(;l<u;++l)(a=e[l])&&(o[l]=a)}function m(t,e,n,r,o,i,a){var l,u,s,c={},h=e.length,f=i.length,d=new Array(h);for(l=0;l<h;++l)(u=e[l])&&(d[l]=s="$"+a.call(u,u.__data__,l,e),s in c?o[l]=u:c[s]=u);for(l=0;l<f;++l)(u=c[s="$"+a.call(t,i[l],l,i)])?(r[l]=u,u.__data__=i[l],c[s]=null):n[l]=new p(t,i[l]);for(l=0;l<h;++l)(u=e[l])&&c[d[l]]===u&&(o[l]=u)}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function v(t,e){return function(){this.setAttribute(t,e)}}function b(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function k(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function C(t){return function(){this.style.removeProperty(t)}}function T(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function E(t,e){return t.style.getPropertyValue(e)||k(t).getComputedStyle(t,null).getPropertyValue(e)}function A(t){return function(){delete this[t]}}function S(t,e){return function(){this[t]=e}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function D(t){return t.trim().split(/^|\s+/)}function N(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function U(t,e){for(var n=N(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function H(t,e){for(var n=N(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function $(t){return function(){U(this,t)}}function z(t){return function(){H(this,t)}}function Y(t,e){return function(){(e.apply(this,arguments)?U:H)(this,t)}}function P(){this.textContent=""}function B(t){return function(){this.textContent=t}}function q(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function O(){this.innerHTML=""}function R(t){return function(){this.innerHTML=t}}function j(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function I(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Z(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Q={},J=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Q={mouseenter:"mouseover",mouseleave:"mouseout"}));function K(t,e,n){return t=tt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function tt(t,e,n){return function(r){var o=J;J=r;try{t.call(this,this.__data__,e,n)}finally{J=o}}}function et(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function nt(t,e,n){var r=Q.hasOwnProperty(t.type)?K:tt;return function(o,i,a){var l,u=this.__on,s=r(e,i,a);if(u)for(var c=0,h=u.length;c<h;++c)if((l=u[c]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=s,l.capture=n),void(l.value=e);this.addEventListener(t.type,s,n),l={type:t.type,name:t.name,value:e,listener:s,capture:n},u?u.push(l):this.__on=[l]}}function rt(t,e,n){var r=k(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ot(t,e){return function(){return rt(this,t,e)}}function it(t,e){return function(){return rt(this,t,e.apply(this,arguments))}}var at=[null];function lt(t,e){this._groups=t,this._parents=e}function ut(){return new lt([[document.documentElement]],at)}function st(t){return"string"==typeof t?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],at)}lt.prototype=ut.prototype={constructor:lt,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,l=e[o],s=l.length,c=r[o]=new Array(s),h=0;h<s;++h)(i=l[h])&&(a=t.call(i,i.__data__,h,l))&&("__data__"in i&&(a.__data__=i.__data__),c[h]=a);return new lt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,l=e[i],u=l.length,s=0;s<u;++s)(a=l[s])&&(r.push(t.call(a,a.__data__,s,l)),o.push(a));return new lt(r,o)},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],l=a.length,u=r[o]=[],s=0;s<l;++s)(i=a[s])&&t.call(i,i.__data__,s,a)&&u.push(i);return new lt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),s=-1,this.each((function(t){p[++s]=t})),p;var n=e?m:d,r=this._parents,o=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=o.length,a=new Array(i),l=new Array(i),u=new Array(i),s=0;s<i;++s){var c=r[s],h=o[s],f=h.length,p=t.call(c,c&&c.__data__,s,r),g=p.length,_=l[s]=new Array(g),y=a[s]=new Array(g);n(c,h,_,y,u[s]=new Array(f),p,e);for(var v,b,w=0,x=0;w<g;++w)if(v=_[w]){for(w>=x&&(x=w+1);!(b=y[x])&&++x<g;);v._next=b||null}}return(a=new lt(a,r))._enter=l,a._exit=u,a},enter:function(){return new lt(this._enter||this._groups.map(f),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(f),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var u,s=e[l],c=n[l],h=s.length,f=a[l]=new Array(h),p=0;p<h;++p)(u=s[p]||c[p])&&(f[p]=u);for(;l<r;++l)a[l]=e[l];return new lt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,l=n[i],u=l.length,s=o[i]=new Array(u),c=0;c<u;++c)(a=l[c])&&(s[c]=a);s.sort(e)}return new lt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,l=i.length;a<l;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=r(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?y:_:"function"==typeof e?n.local?x:w:n.local?b:v)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?C:"function"==typeof e?M:T)(t,e,null==n?"":n)):E(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?A:"function"==typeof e?F:S)(t,e)):this.node()[t]},classed:function(t,e){var n=D(t+"");if(arguments.length<2){for(var r=N(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Y:e?$:z)(n,e))},text:function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?q:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?j:R)(t)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(I)},append:function(t){var e="function"==typeof t?t:a(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?X:"function"==typeof e?e:u(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(V)},clone:function(t){return this.select(t?Z:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(l=e?nt:et,null==n&&(n=!1),r=0;r<a;++r)this.each(l(i[r],e,n));return this}var l=this.node().__on;if(l)for(var u,s=0,c=l.length;s<c;++s)for(r=0,u=l[s];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?it:ot)(t,e))}};var ct={value:function(){}};function ht(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ft(r)}function ft(t){this._=t}function pt(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function dt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=ct,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ft.prototype=ht.prototype={constructor:ft,on:function(t,e){var n,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,l=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<l;)if(n=(t=i[a]).type)o[n]=dt(o[n],t.name,e);else if(null==e)for(n in o)o[n]=dt(o[n],t.name,null);return this}for(;++a<l;)if((n=(t=i[a]).type)&&(n=pt(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ft(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var mt,gt,_t=0,yt=0,vt=0,bt=0,wt=0,xt=0,kt="object"==typeof performance&&performance.now?performance:Date,Ct="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Tt(){return wt||(Ct(Mt),wt=kt.now()+xt)}function Mt(){wt=0}function Et(){this._call=this._time=this._next=null}function At(t,e,n){var r=new Et;return r.restart(t,e,n),r}function St(){Tt(),++_t;for(var t,e=mt;e;)(t=wt-e._time)>=0&&e._call.call(null,t),e=e._next;--_t}function Ft(){wt=(bt=kt.now())+xt,_t=yt=0;try{St()}finally{_t=0,function(){var t,e,n=mt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:mt=e);gt=t,Nt(r)}(),wt=0}}function Dt(){var t=kt.now(),e=t-bt;e>1e3&&(xt-=e,bt=t)}function Nt(t){_t||(yt&&(yt=clearTimeout(yt)),t-wt>24?(t<1/0&&(yt=setTimeout(Ft,t-kt.now()-xt)),vt&&(vt=clearInterval(vt))):(vt||(bt=kt.now(),vt=setInterval(Dt,1e3)),_t=1,Ct(Ft)))}function Lt(t,e,n){var r=new Et;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Et.prototype=At.prototype={constructor:Et,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Tt():+n)+(null==e?0:+e),this._next||gt===this||(gt?gt._next=this:mt=this,gt=this),this._call=t,this._time=n,Nt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nt())}};var Ut=ht("start","end","cancel","interrupt"),Ht=[];function $t(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var s,c,h,f;if(1!==n.state)return u();for(s in o)if((f=o[s]).name===n.name){if(3===f.state)return Lt(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[s]):+s<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[s])}if(Lt((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),s=0,c=-1;s<h;++s)(f=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function l(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=At(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:Ut,tween:Ht,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function zt(t,e){var n=Pt(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Yt(t,e){var n=Pt(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Bt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ot(){}var Rt=.7,jt=1/Rt,Wt="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[Wt,Wt,Wt]+"\\)$"),Zt=new RegExp("^rgb\\("+[Xt,Xt,Xt]+"\\)$"),Qt=new RegExp("^rgba\\("+[Wt,Wt,Wt,It]+"\\)$"),Jt=new RegExp("^rgba\\("+[Xt,Xt,Xt,It]+"\\)$"),Kt=new RegExp("^hsl\\("+[It,Xt,Xt]+"\\)$"),te=new RegExp("^hsla\\("+[It,Xt,Xt,It]+"\\)$"),ee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ne(){return this.rgb().formatHex()}function re(){return this.rgb().formatRgb()}function oe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Vt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ie(e):3===n?new ue(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ae(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Gt.exec(t))?new ue(e[1],e[2],e[3],1):(e=Zt.exec(t))?new ue(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Qt.exec(t))?ae(e[1],e[2],e[3],e[4]):(e=Jt.exec(t))?ae(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Kt.exec(t))?fe(e[1],e[2]/100,e[3]/100,1):(e=te.exec(t))?fe(e[1],e[2]/100,e[3]/100,e[4]):ee.hasOwnProperty(t)?ie(ee[t]):"transparent"===t?new ue(NaN,NaN,NaN,0):null}function ie(t){return new ue(t>>16&255,t>>8&255,255&t,1)}function ae(t,e,n,r){return r<=0&&(t=e=n=NaN),new ue(t,e,n,r)}function le(t,e,n,r){return 1===arguments.length?((o=t)instanceof Ot||(o=oe(o)),o?new ue((o=o.rgb()).r,o.g,o.b,o.opacity):new ue):new ue(t,e,n,null==r?1:r);var o}function ue(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function se(){return"#"+he(this.r)+he(this.g)+he(this.b)}function ce(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function he(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new de(t,e,n,r)}function pe(t){if(t instanceof de)return new de(t.h,t.s,t.l,t.opacity);if(t instanceof Ot||(t=oe(t)),!t)return new de;if(t instanceof de)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new de(a,l,u,t.opacity)}function de(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function me(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ge(t){return function(){return t}}function _e(t){return 1==(t=+t)?ye:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ge(isNaN(e)?n:e)}}function ye(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ge(isNaN(t)?e:t)}Bt(Ot,oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ne,formatHex:ne,formatHsl:function(){return pe(this).formatHsl()},formatRgb:re,toString:re}),Bt(ue,le,qt(Ot,{brighter:function(t){return t=null==t?jt:Math.pow(jt,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Rt:Math.pow(Rt,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatRgb:ce,toString:ce})),Bt(de,(function(t,e,n,r){return 1===arguments.length?pe(t):new de(t,e,n,null==r?1:r)}),qt(Ot,{brighter:function(t){return t=null==t?jt:Math.pow(jt,t),new de(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Rt:Math.pow(Rt,t),new de(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new ue(me(t>=240?t-240:t+120,o,r),me(t,o,r),me(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ve=function t(e){var n=_e(e);function r(t,e){var r=n((t=le(t)).r,(e=le(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=ye(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function be(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var we=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xe=new RegExp(we.source,"g");function ke(t,e){var n,r,o,i=we.lastIndex=xe.lastIndex=0,a=-1,l=[],u=[];for(t+="",e+="";(n=we.exec(t))&&(r=xe.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:be(n,r)})),i=xe.lastIndex;return i<e.length&&(o=e.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)l[(n=u[r]).i]=n.x(t);return l.join("")})}var Ce,Te,Me,Ee,Ae=180/Math.PI,Se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fe(t,e,n,r,o,i){var a,l,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Ae,skewX:Math.atan(u)*Ae,scaleX:a,scaleY:l}}function De(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var l=[],u=[];return i=t(i),a=t(a),function(t,r,o,i,a,l){if(t!==o||r!==i){var u=a.push("translate(",null,e,null,n);l.push({i:u-4,x:be(t,o)},{i:u-2,x:be(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,l,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:be(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,l,u),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:be(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,l,u),function(t,e,n,r,i,a){if(t!==n||e!==r){var l=i.push(o(i)+"scale(",null,",",null,")");a.push({i:l-4,x:be(t,n)},{i:l-2,x:be(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,l,u),i=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)l[(e=u[n]).i]=e.x(t);return l.join("")}}}var Ne=De((function(t){return"none"===t?Se:(Ce||(Ce=document.createElement("DIV"),Te=document.documentElement,Me=document.defaultView),Ce.style.transform=t,t=Me.getComputedStyle(Te.appendChild(Ce),null).getPropertyValue("transform"),Te.removeChild(Ce),Fe(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Le=De((function(t){return null==t?Se:(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),(t=Ee.transform.baseVal.consolidate())?Fe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Se)}),", ",")",")");function Ue(t,e){var n,r;return function(){var o=Yt(this,t),i=o.tween;if(i!==n)for(var a=0,l=(r=n=i).length;a<l;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function He(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=Yt(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:n},u=0,s=o.length;u<s;++u)if(o[u].name===e){o[u]=l;break}u===s&&o.push(l)}i.tween=o}}function $e(t,e,n){var r=t._id;return t.each((function(){var t=Yt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Pt(t,r).value[e]}}function ze(t,e){var n;return("number"==typeof e?be:e instanceof oe?ve:(n=oe(e))?(e=n,ve):ke)(t,e)}function Ye(t){return function(){this.removeAttribute(t)}}function Pe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Be(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function qe(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Oe(t,e,n){var r,o,i;return function(){var a,l,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(l=u+"")?null:a===r&&l===o?i:(o=l,i=e(r=a,u));this.removeAttribute(t)}}function Re(t,e,n){var r,o,i;return function(){var a,l,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(l=u+"")?null:a===r&&l===o?i:(o=l,i=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function je(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,o)),n}return o._value=e,o}function We(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,o)),n}return o._value=e,o}function Ie(t,e){return function(){zt(this,t).delay=+e.apply(this,arguments)}}function Xe(t,e){return e=+e,function(){zt(this,t).delay=e}}function Ve(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function Ge(t,e){return e=+e,function(){Yt(this,t).duration=e}}var Ze=ut.prototype.constructor;function Qe(t){return function(){this.style.removeProperty(t)}}var Je=0;function Ke(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function tn(){return++Je}var en=ut.prototype;Ke.prototype={constructor:Ke,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var l,s,c=r[a],h=c.length,f=i[a]=new Array(h),p=0;p<h;++p)(l=c[p])&&(s=t.call(l,l.__data__,p,c))&&("__data__"in l&&(s.__data__=l.__data__),f[p]=s,$t(f[p],e,n,p,f,Pt(l,n)));return new Ke(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c(t));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var u,s=r[l],h=s.length,f=0;f<h;++f)if(u=s[f]){for(var p,d=t.call(u,u.__data__,f,s),m=Pt(u,n),g=0,_=d.length;g<_;++g)(p=d[g])&&$t(p,e,n,g,d,m);i.push(d),a.push(u)}return new Ke(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],l=a.length,u=r[o]=[],s=0;s<l;++s)(i=a[s])&&t.call(i,i.__data__,s,a)&&u.push(i);return new Ke(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var u,s=e[l],c=n[l],h=s.length,f=a[l]=new Array(h),p=0;p<h;++p)(u=s[p]||c[p])&&(f[p]=u);for(;l<r;++l)a[l]=e[l];return new Ke(a,this._parents,this._name,this._id)},selection:function(){return new Ze(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=tn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],u=l.length,s=0;s<u;++s)if(a=l[s]){var c=Pt(a,e);$t(a,t,n,s,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ke(r,this._parents,t,n)},call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:function(t,e){var n=this._id;return arguments.length<2?Pt(this.node(),n).on.on(t):this.each(function(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?zt:Yt;return function(){var a=i(this,t),l=a.on;l!==r&&(o=(r=l).copy()).on(e,n),a.on=o}}(n,t,e))},attr:function(t,e){var n=r(t),o="transform"===n?Le:ze;return this.attrTween(t,"function"==typeof e?(n.local?Re:Oe)(n,o,$e(this,"attr."+t,e)):null==e?(n.local?Pe:Ye)(n):(n.local?qe:Be)(n,o,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var o=r(t);return this.tween(n,(o.local?je:We)(o,e))},style:function(t,e,n){var r="transform"==(t+="")?Ne:ze;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=E(this,t),a=(this.style.removeProperty(t),E(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,Qe(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=E(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=E(this,t)),a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,l))}}(t,r,$e(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,l="end."+a;return function(){var u=Yt(this,t),s=u.on,c=null==u.value[a]?i||(i=Qe(e)):void 0;s===n&&o===c||(r=(n=s).copy()).on(l,o=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=E(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}($e(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=Pt(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?Ue:He)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ie:Xe)(e,t)):Pt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ve:Ge)(e,t)):Pt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Yt(this,t).ease=e}}(e,t)):Pt(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var l={value:a},u={value:function(){0==--o&&i()}};n.each((function(){var n=Yt(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),n.on=e}))}))}};var nn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function rn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return nn.time=Tt(),nn;return n}function on(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function an(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ln(){}ut.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},ut.prototype.transition=function(t){var e,n;t instanceof Ke?(e=t._id,t=t._name):(e=tn(),(n=nn).time=Tt(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],u=l.length,s=0;s<u;++s)(a=l[s])&&$t(a,t,e,s,l,n||rn(a,e));return new Ke(r,this._parents,t,e)};var un=.7,sn=1/un,cn="\\s*([+-]?\\d+)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pn=/^#([0-9a-f]{3,8})$/,dn=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),mn=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),gn=new RegExp(`^rgba\\(${cn},${cn},${cn},${hn}\\)$`),_n=new RegExp(`^rgba\\(${fn},${fn},${fn},${hn}\\)$`),yn=new RegExp(`^hsl\\(${hn},${fn},${fn}\\)$`),vn=new RegExp(`^hsla\\(${hn},${fn},${fn},${hn}\\)$`),bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(){return this.rgb().formatHex()}function xn(){return this.rgb().formatRgb()}function kn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Cn(e):3===n?new Mn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dn.exec(t))?new Mn(e[1],e[2],e[3],1):(e=mn.exec(t))?new Mn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gn.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=_n.exec(t))?Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=yn.exec(t))?Nn(e[1],e[2]/100,e[3]/100,1):(e=vn.exec(t))?Nn(e[1],e[2]/100,e[3]/100,e[4]):bn.hasOwnProperty(t)?Cn(bn[t]):"transparent"===t?new Mn(NaN,NaN,NaN,0):null}function Cn(t){return new Mn(t>>16&255,t>>8&255,255&t,1)}function Tn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function En(){return`#${Dn(this.r)}${Dn(this.g)}${Dn(this.b)}`}function An(){const t=Sn(this.opacity);return`${1===t?"rgb(":"rgba("}${Fn(this.r)}, ${Fn(this.g)}, ${Fn(this.b)}${1===t?")":`, ${t})`}`}function Sn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dn(t){return((t=Fn(t))<16?"0":"")+t.toString(16)}function Nn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Un(t,e,n,r)}function Ln(t){if(t instanceof Un)return new Un(t.h,t.s,t.l,t.opacity);if(t instanceof ln||(t=kn(t)),!t)return new Un;if(t instanceof Un)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Un(a,l,u,t.opacity)}function Un(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Hn(t){return(t=(t||0)%360)<0?t+360:t}function $n(t){return Math.max(0,Math.min(1,t||0))}function zn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}on(ln,kn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wn,formatHex:wn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ln(this).formatHsl()},formatRgb:xn,toString:xn}),on(Mn,(function(t,e,n,r){return 1===arguments.length?((o=t)instanceof ln||(o=kn(o)),o?new Mn((o=o.rgb()).r,o.g,o.b,o.opacity):new Mn):new Mn(t,e,n,null==r?1:r);var o}),an(ln,{brighter(t){return t=null==t?sn:Math.pow(sn,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?un:Math.pow(un,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(Fn(this.r),Fn(this.g),Fn(this.b),Sn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:En,formatHex:En,formatHex8:function(){return`#${Dn(this.r)}${Dn(this.g)}${Dn(this.b)}${Dn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:An,toString:An})),on(Un,(function(t,e,n,r){return 1===arguments.length?Ln(t):new Un(t,e,n,null==r?1:r)}),an(ln,{brighter(t){return t=null==t?sn:Math.pow(sn,t),new Un(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?un:Math.pow(un,t),new Un(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Mn(zn(t>=240?t-240:t+120,o,r),zn(t,o,r),zn(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Un(Hn(this.h),$n(this.s),$n(this.l),Sn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sn(this.opacity);return`${1===t?"hsl(":"hsla("}${Hn(this.h)}, ${100*$n(this.s)}%, ${100*$n(this.l)}%${1===t?")":`, ${t})`}`}}));var Yn="$";function Pn(){}function Bn(t,e){var n=new Pn;if(t instanceof Pn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function qn(){}Pn.prototype=Bn.prototype={constructor:Pn,has:function(t){return Yn+t in this},get:function(t){return this[Yn+t]},set:function(t,e){return this[Yn+t]=e,this},remove:function(t){var e=Yn+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Yn&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Yn&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Yn&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Yn&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Yn&&++t;return t},empty:function(){for(var t in this)if(t[0]===Yn)return!1;return!0},each:function(t){for(var e in this)e[0]===Yn&&t(this[e],e.slice(1),this)}};var On=Bn.prototype;function Rn(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}qn.prototype={constructor:qn,has:On.has,add:function(t){return this[Yn+(t+="")]=t,this},remove:On.remove,clear:On.clear,values:On.keys,size:On.size,empty:On.empty,each:On.each};const jn="undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement&&"function"==typeof document.body?.appendChild&&"undefined"!=typeof HTMLElement,Wn=document.createElement("canvas"),In=Wn.getContext("2d"),Xn=document.createElementNS("http://www.w3.org/2000/svg","svg"),Vn=document.createElementNS("http://www.w3.org/2000/svg","text");Xn.appendChild(Vn),jn&&(Wn.style.position="fixed",Wn.style.left="1000vw",Xn.style.position="fixed",Xn.style.left="1000vw",document.body.appendChild(Wn),document.body.appendChild(Xn));let Gn=null;function Zn(t,e,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"string"!=typeof t&&(t=String(t));const i=t=>In.measureTextWithTnums(t).width>r,a=(t,e)=>{let n=In.measureText(t).width;if(n<=e)return t;let r=1,o=t;do{o=t.substring(0,t.length-r)+"…",n=In.measureTextWithTnums(o).width}while(n>e&&++r<t.length);return o.length<1&&(o=t.substring(0,1)+"…"),o};In.font=e;let l=[];if(Object.defineProperty(l,"widest_line",{value:0,enumerable:!0,writable:!0}),Object.defineProperty(l,"has_truncated",{value:!1,enumerable:!0,writable:!0}),void 0===t||Number.isInteger(n)&&n<=0)return l;if(0===t.length)return l.push(""),l;if(r<=0)return t.length>0&&(l.push(t.slice(0,1)+"…"),l.widest_line=In.measureTextWithTnums(l[0]).width),l;if(!t||0===t.length||0===n||r<=0)return l;const u=t.split(/\s+/g);if(!i(t))return l.push(t),l.widest_line=In.measureTextWithTnums(t).width,l.has_truncated=!1,l;let s=new String(u[0]);if(s&&i(s))return o?s=a(s,r):u.length>1&&(s+="…"),l.push(s),l.widest_line=In.measureTextWithTnums(s).width,l.has_truncated=!0,l;let c="",h=!1;if(u.forEach((t=>{if(!h)if(i(c+(c?" ":"")+t)){if(c){In.measureTextWithTnums(c).width>r&&(c=a(c,r),h=!0),l.push(c),c=""}c=t}else c+=(c?" ":"")+t})),c&&!h&&l.push(a(c,r)),l.length>n){if(l.length>n&&Number.isInteger(n)){l.splice(n,l.length-n);let t=l[l.length-1];i(t+"…")&&(t=a(t,r-In.measureTextWithTnums("…").width)),"…"!==t.slice(-1)&&(t+="…"),l[l.length-1]=t,h=!0}}return l.widest_line=Math.max(...l.map((t=>In.measureTextWithTnums(t).width))),l.has_truncated=h,l}var Qn,Jn,Kn;function tr(){document.body.querySelector(".font-samples").innerHTML=""}function er(t){Kn||(Kn=t||["normal","bold"]);var e="";["mobile_big","tablet","desktop","big_screen"].forEach((function(t){var n="@media(min-width: "+fs["breakpoint_"+t]+"px) {\n",r="html { font-size:"+fs["font_size_"+t]+"%; }";e+=n+r+"\n}\n\n"}));var n="html { \n font-size:"+fs.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";Qn.innerHTML=n+e;var r=[fs.body_font,fs.title_font,fs.subtitle_font,fs.footer_font];r.forEach((function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href",t.url),o.className="layout-font",document.head.appendChild(o),function(t){document.body.querySelector(".font-samples")||((Jn=document.createElement("div")).className="font-samples",Jn.style.visibility="hidden",Jn.style.overflow="hidden",Jn.style.height=0,document.body.appendChild(Jn)),Kn.forEach((function(e){var n=document.createElement("div");n.className="font-sample-el",n.innerText=t.name,n.style.fontFamily=t.name,n.style.fontWeight=e,Jn.appendChild(n)}))}(t)}}}));for(var o=document.head.querySelectorAll("link.layout-font"),i=0;i<o.length;i++){var a=o[i],l=!1;r.forEach((function(t){t&&t.url==a.href&&(l=!0)})),l||a.parentElement.removeChild(a)}document.body.style.fontFamily=fs.body_font.name}In.measureTextWithTnums=function(t){if(!jn)return In.measureText(t);const e=window.getComputedStyle(this.canvas);if(!((e.fontFeatureSettings||"").includes("tnum")||(e.fontVariantNumeric||"").includes("tabular-nums")))return this.measureText(t);if(null===Gn&&function(){const t="0123456789.,£",e=document.createElement("canvas"),n=document.createElement("canvas"),r=e.getContext("2d"),o=n.getContext("2d");e.setAttribute("style","font-feature-settings: normal; font-variant-numeric: normal; position: fixed; left: 1000vw;"),n.setAttribute("style",'font-feature-settings: "tnum" 1; font-variant-numeric: tabular-nums; position: fixed; left: 1000vw;'),r.font=o.font=In.font,document.body.appendChild(e),document.body.appendChild(n);const i=r.measureText(t).width,a=o.measureText(t).width;Gn=i!==a,document.body.removeChild(e),document.body.removeChild(n)}(),Gn)return this.measureText(t);Vn.textContent=t,Vn.setAttribute("style",`font: ${In.font}; font-feature-settings: 'tnum' 1; font-variant-numeric: tabular-nums; position: fixed; left: 1000vw;`);let n=Vn.getBBox().width;return{...this.measureText(t),width:n}};var nr,rr,or,ir,ar,lr,ur,sr,cr,hr,fr=Object.freeze({"stack-default":["header","controls","legend","primary","footer"],"stack-2":["primary","header","controls","legend","footer"],"stack-3":["header","primary","controls","legend","footer"],"stack-4":["controls","primary","header","legend","footer"],"stack-5":["header","controls","primary","legend","footer"],"stack-6":["header","legend","primary","controls","footer"],"grid-1":{wrapper:{display:"grid","grid-template-rows":"min-content min-content minmax(min-content,auto) min-content","grid-template-columns":"1fr 2fr"},header:{"grid-column-start":1},legend:{"grid-column-start":1},controls:{"grid-column-start":1},primary:{"grid-column-start":2,"grid-row":"1 / -1"},footer:{"grid-column-start":"1","grid-row-start":4}}});function pr(t){return window.innerWidth!==nr&&(nr=window.innerWidth,rr=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*rr}function dr(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}function mr(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function gr(){return fs.header_logo_enabled&&fs.header_logo_src}function _r(){var t="top"==fs.header_border||"top_and_bottom"==fs.header_border,e="bottom"==fs.header_border||"top_and_bottom"==fs.header_border;or.style.textAlign=dr(fs.header_align),or.style.margin=0,or.style.borderTop=t?fs.header_border_width+"px "+fs.header_border_style+" "+fs.header_border_color:null,or.style.borderBottom=e?fs.header_border_width+"px "+fs.header_border_style+" "+fs.header_border_color:null,or.style.paddingTop=t?fs.header_border_space+"rem":"",or.style.paddingBottom=e?fs.header_border_space+"rem":"",ir.innerHTML=fs.title?fs.title:"",ir.setAttribute("id","flourish-header-title"),ir.style.fontFamily=fs.title_font?fs.title_font.name:"inherit",ir.style.fontSize=("custom"!=fs.title_size?fs.title_size:fs.title_size_custom)+"rem",ir.style.lineHeight=fs.title_line_height,ir.style.fontWeight=fs.title_weight,ir.style.color=fs.title_color||fs.font_color,ir.style.margin=0,ir.style.paddingTop=fs.title?("custom"==fs.title_space_above?fs.title_space_above_custom:fs.title_space_above)+"rem":0,ar.innerHTML=fs.subtitle?fs.subtitle:"",ar.setAttribute("id","flourish-header-subtitle"),ar.style.fontFamily=fs.subtitle_font?fs.subtitle_font.name:"inherit",ar.style.fontSize=("custom"!=fs.subtitle_size?fs.subtitle_size:fs.subtitle_size_custom)+"rem",ar.style.lineHeight=fs.subtitle_line_height,ar.style.fontWeight=fs.subtitle_weight,ar.style.color=fs.subtitle_color||fs.font_color,ar.style.margin=0,ar.style.paddingTop=fs.subtitle?("custom"==fs.subtitle_space_above?fs.subtitle_space_above_custom:fs.subtitle_space_above)+"rem":0,lr.innerHTML=fs.header_text?fs.header_text:"",lr.setAttribute("id","flourish-header-text"),lr.style.fontSize=("custom"!=fs.header_text_size?fs.header_text_size:fs.header_text_size_custom)+"rem",lr.style.lineHeight=fs.header_text_line_height,lr.style.fontWeight=fs.header_text_weight,lr.style.margin=0,lr.style.color=fs.header_text_color||fs.font_color,lr.style.paddingTop=fs.header_text?("custom"==fs.header_text_space_above?fs.header_text_space_above_custom:fs.header_text_space_above)+"rem":0,ur.style.clear="both",sr.innerHTML="",gr()&&((cr=cr||document.createElement("img")).className="flourish-header-logo",cr.src=mr(fs.header_logo_src),cr.alt=fs.header_logo_alt,cr.style.position="inside"==fs.header_logo_align?"":"fixed",cr.style.height=fs.header_logo_height+"rem",cr.style.top="outside"==fs.header_logo_align?0:"",cr.style.left="outside"==fs.header_logo_align&&"left"==fs.header_logo_position_outside?0:"",cr.style.right="outside"==fs.header_logo_align&&"right"==fs.header_logo_position_outside?0:"",cr.style.marginTop=fs.header_logo_margin_top+"rem",cr.style.marginBottom=fs.header_logo_margin_bottom+"rem",cr.style.marginLeft=fs.header_logo_margin_left+"rem",cr.style.marginRight=fs.header_logo_margin_right+"rem",cr.style.float="top"==fs.header_logo_position_inside||"outside"==fs.header_logo_align?"":fs.header_logo_position_inside,cr.style.width="auto",fs.header_logo_link_url?((hr=document.createElement("a")).target="_blank",hr.appendChild(cr),sr.appendChild(hr),cr.style.cursor="pointer",hr.href=mr(fs.header_logo_link_url)):sr.appendChild(cr))}
/** @preserve
  /////    SAPC APCA - Advanced Perceptual Contrast Algorithm
  /////           Beta 0.1.9 W3 • contrast function only
  /////           DIST: W3 • Revision date: July 3, 2022
  /////    Function to parse color values and determine Lc contrast
  /////    Copyright © 2019-2022 by Andrew Somers. All Rights Reserved.
  /////    LICENSE: W3 LICENSE
  /////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
  /////    https://github.com/Myndex/SAPC-APCA/
  /////
  ///////////////////////////////////////////////////////////////////////////////
  /////
  /////    MINIMAL IMPORTS:
  /////      import { APCAcontrast, sRGBtoY, displayP3toY,
  /////               calcAPCA, fontLookupAPCA } from 'apca-w3';
  /////      import { colorParsley } from 'colorparsley';
  /////
  /////    FORWARD CONTRAST USAGE:
  /////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
  /////    Where the colors are sent as an rgba array [255,255,255,1]
  /////
  /////    Retrieving an array of font sizes for the contrast:
  /////      fontArray = fontLookupAPCA(Lc);
  /////
  /////    Live Demonstrator at https://www.myndex.com/APCA/
  // */
const yr={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function vr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];function e(t){return Math.pow(t/255,yr.mainTRC)}return yr.sRco*e(t[0])+yr.sGco*e(t[1])+yr.sBco*e(t[2])}function br(t,e){if("string"!=typeof t)return!1;var n=kn(t);return n.opacity=void 0!==e?e:1,n}function wr(t,e){if(!t||!e)return void console.warn("No valid color",t,e);const n=vr(Object.values(br(t))),r=vr(Object.values(br(e)));return Math.abs(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const r=[0,1.1];if(isNaN(t)||isNaN(e)||Math.min(t,e)<r[0]||Math.max(t,e)>r[1])return 0;let o=0,i=0,a="BoW";return t=t>yr.blkThrs?t:t+Math.pow(yr.blkThrs-t,yr.blkClmp),e=e>yr.blkThrs?e:e+Math.pow(yr.blkThrs-e,yr.blkClmp),Math.abs(e-t)<yr.deltaYmin?0:(e>t?(o=(Math.pow(e,yr.normBG)-Math.pow(t,yr.normTXT))*yr.scaleBoW,i=o<yr.loClip?0:o-yr.loBoWoffset):(a="WoB",o=(Math.pow(e,yr.revBG)-Math.pow(t,yr.revTXT))*yr.scaleWoB,i=o>-yr.loClip?0:o+yr.loWoBoffset),n<0?100*i:0==n?Math.round(100*Math.abs(i))+"<sub>"+a+"</sub>":Number.isInteger(n)?(100*i).toFixed(n):0)}(n,r))}function xr(t){if(!t)return void console.warn("No valid color",t);const e=wr("#000000",t);return wr("#ffffff",t)<e}const kr=new Date,Cr=new Date;function Tr(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=e=>(t(e=new Date(+e)),e),o.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),o.round=t=>{const e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),o.range=(n,r,i)=>{const a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;let l;do{a.push(l=new Date(+n)),e(n,i),t(n)}while(l<n&&n<r);return a},o.filter=n=>Tr((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(o.count=(e,r)=>(kr.setTime(+e),Cr.setTime(+r),t(kr),t(Cr),Math.floor(n(kr,Cr))),o.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?e=>r(e)%t==0:e=>o.count(0,e)%t==0):o:null)),o}const Mr=6e4,Er=864e5,Ar=6048e5,Sr=Tr((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/Er),(t=>t.getDate()-1));Sr.range;const Fr=Tr((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Er),(t=>t.getUTCDate()-1));Fr.range;const Dr=Tr((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Er),(t=>Math.floor(t/Er)));function Nr(t){return Tr((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/Ar))}Dr.range;const Lr=Nr(0),Ur=Nr(1),Hr=Nr(2),$r=Nr(3),zr=Nr(4),Yr=Nr(5),Pr=Nr(6);function Br(t){return Tr((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Ar))}Lr.range,Ur.range,Hr.range,$r.range,zr.range,Yr.range,Pr.range;const qr=Br(0),Or=Br(1),Rr=Br(2),jr=Br(3),Wr=Br(4),Ir=Br(5),Xr=Br(6);qr.range,Or.range,Rr.range,jr.range,Wr.range,Ir.range,Xr.range;const Vr=Tr((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));Vr.every=t=>isFinite(t=Math.floor(t))&&t>0?Tr((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,Vr.range;const Gr=Tr((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Zr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Gr.every=t=>isFinite(t=Math.floor(t))&&t>0?Tr((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,Gr.range;var Kr,to,eo={"-":"",_:" ",0:"0"},no=/^\s*\d+/,ro=/^%/,oo=/[\\^$*+?|[\]().{}]/g;function io(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function ao(t){return t.replace(oo,"\\$&")}function lo(t){return new RegExp("^(?:"+t.map(ao).join("|")+")","i")}function uo(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function so(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function co(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function po(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mo(t,e,n){var r=no.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function go(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _o(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yo(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function vo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wo(t,e,n){var r=no.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ko(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Co(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function To(t,e,n){var r=no.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mo(t,e,n){var r=no.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Eo(t,e,n){var r=ro.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ao(t,e,n){var r=no.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function So(t,e,n){var r=no.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Fo(t,e){return io(t.getDate(),e,2)}function Do(t,e){return io(t.getHours(),e,2)}function No(t,e){return io(t.getHours()%12||12,e,2)}function Lo(t,e){return io(1+Sr.count(Vr(t),t),e,3)}function Uo(t,e){return io(t.getMilliseconds(),e,3)}function Ho(t,e){return Uo(t,e)+"000"}function $o(t,e){return io(t.getMonth()+1,e,2)}function zo(t,e){return io(t.getMinutes(),e,2)}function Yo(t,e){return io(t.getSeconds(),e,2)}function Po(t){var e=t.getDay();return 0===e?7:e}function Bo(t,e){return io(Lr.count(Vr(t)-1,t),e,2)}function qo(t){var e=t.getDay();return e>=4||0===e?zr(t):zr.ceil(t)}function Oo(t,e){return t=qo(t),io(zr.count(Vr(t),t)+(4===Vr(t).getDay()),e,2)}function Ro(t){return t.getDay()}function jo(t,e){return io(Ur.count(Vr(t)-1,t),e,2)}function Wo(t,e){return io(t.getFullYear()%100,e,2)}function Io(t,e){return io((t=qo(t)).getFullYear()%100,e,2)}function Xo(t,e){return io(t.getFullYear()%1e4,e,4)}function Vo(t,e){var n=t.getDay();return io((t=n>=4||0===n?zr(t):zr.ceil(t)).getFullYear()%1e4,e,4)}function Go(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+io(e/60|0,"0",2)+io(e%60,"0",2)}function Zo(t,e){return io(t.getUTCDate(),e,2)}function Qo(t,e){return io(t.getUTCHours(),e,2)}function Jo(t,e){return io(t.getUTCHours()%12||12,e,2)}function Ko(t,e){return io(1+Fr.count(Gr(t),t),e,3)}function ti(t,e){return io(t.getUTCMilliseconds(),e,3)}function ei(t,e){return ti(t,e)+"000"}function ni(t,e){return io(t.getUTCMonth()+1,e,2)}function ri(t,e){return io(t.getUTCMinutes(),e,2)}function oi(t,e){return io(t.getUTCSeconds(),e,2)}function ii(t){var e=t.getUTCDay();return 0===e?7:e}function ai(t,e){return io(qr.count(Gr(t)-1,t),e,2)}function li(t){var e=t.getUTCDay();return e>=4||0===e?Wr(t):Wr.ceil(t)}function ui(t,e){return t=li(t),io(Wr.count(Gr(t),t)+(4===Gr(t).getUTCDay()),e,2)}function si(t){return t.getUTCDay()}function ci(t,e){return io(Or.count(Gr(t)-1,t),e,2)}function hi(t,e){return io(t.getUTCFullYear()%100,e,2)}function fi(t,e){return io((t=li(t)).getUTCFullYear()%100,e,2)}function pi(t,e){return io(t.getUTCFullYear()%1e4,e,4)}function di(t,e){var n=t.getUTCDay();return io((t=n>=4||0===n?Wr(t):Wr.ceil(t)).getUTCFullYear()%1e4,e,4)}function mi(){return"+0000"}function gi(){return"%"}function _i(t){return+t}function yi(t){return Math.floor(+t/1e3)}Kr=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,s=lo(o),c=uo(o),h=lo(i),f=uo(i),p=lo(a),d=uo(a),m=lo(l),g=uo(l),_=lo(u),y=uo(u),v={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:Fo,e:Fo,f:Ho,g:Io,G:Vo,H:Do,I:No,j:Lo,L:Uo,m:$o,M:zo,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:_i,s:yi,S:Yo,u:Po,U:Bo,V:Oo,w:Ro,W:jo,x:null,X:null,y:Wo,Y:Xo,Z:Go,"%":gi},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Zo,e:Zo,f:ei,g:fi,G:di,H:Qo,I:Jo,j:Ko,L:ti,m:ni,M:ri,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:_i,s:yi,S:oi,u:ii,U:ai,V:ui,w:si,W:ci,x:null,X:null,y:hi,Y:pi,Z:mi,"%":gi},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:bo,e:bo,f:Mo,g:go,G:mo,H:xo,I:xo,j:wo,L:To,m:vo,M:ko,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:yo,Q:Ao,s:So,S:Co,u:co,U:ho,V:fo,w:so,W:po,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:go,Y:mo,Z:_o,"%":Eo};function x(t,e){return function(n){var r,o,i,a=[],l=-1,u=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===t.charCodeAt(l)&&(a.push(t.slice(u,l)),null!=(o=eo[r=t.charAt(++l)])?r=t.charAt(++l):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),u=l+1);return a.push(t.slice(u,l)),a.join("")}}function k(t,e){return function(n){var r,o,i=Jr(1900,void 0,1);if(C(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Qr(Jr(i.y,0,1))).getUTCDay(),r=o>4||0===o?Or.ceil(r):Or(r),r=Fr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Zr(Jr(i.y,0,1))).getDay(),r=o>4||0===o?Ur.ceil(r):Ur(r),r=Sr.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Qr(Jr(i.y,0,1)).getUTCDay():Zr(Jr(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Qr(i)):Zr(i)}}function C(t,e,n,r){for(var o,i,a=0,l=e.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=w[o in eo?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),to=Kr.format,Kr.parse,Kr.utcFormat,Kr.utcParse;var vi=Uint8Array,bi=Uint16Array,wi=Int32Array,xi=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ki=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ci=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ti=function(t,e){for(var n=new bi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var o=new wi(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return{b:n,r:o}},Mi=Ti(xi,2),Ei=Mi.b,Ai=Mi.r;Ei[28]=258,Ai[258]=28;for(var Si=Ti(ki,0).r,Fi=new bi(32768),Di=0;Di<32768;++Di){var Ni=(43690&Di)>>1|(21845&Di)<<1;Ni=(61680&(Ni=(52428&Ni)>>2|(13107&Ni)<<2))>>4|(3855&Ni)<<4,Fi[Di]=((65280&Ni)>>8|(255&Ni)<<8)>>1}var Li=function(t,e,n){for(var r=t.length,o=0,i=new bi(e);o<r;++o)t[o]&&++i[t[o]-1];var a,l=new bi(e);for(o=1;o<e;++o)l[o]=l[o-1]+i[o-1]<<1;if(n){a=new bi(1<<e);var u=15-e;for(o=0;o<r;++o)if(t[o])for(var s=o<<4|t[o],c=e-t[o],h=l[t[o]-1]++<<c,f=h|(1<<c)-1;h<=f;++h)a[Fi[h]>>u]=s}else for(a=new bi(r),o=0;o<r;++o)t[o]&&(a[o]=Fi[l[t[o]-1]++]>>15-t[o]);return a},Ui=new vi(288);for(Di=0;Di<144;++Di)Ui[Di]=8;for(Di=144;Di<256;++Di)Ui[Di]=9;for(Di=256;Di<280;++Di)Ui[Di]=7;for(Di=280;Di<288;++Di)Ui[Di]=8;var Hi=new vi(32);for(Di=0;Di<32;++Di)Hi[Di]=5;var $i=Li(Ui,9,0),zi=Li(Hi,5,0),Yi=function(t){return(t+7)/8|0},Pi=function(t,e,n){return(null==n||n>t.length)&&(n=t.length),new vi(t.subarray(e,n))},Bi=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qi=function(t,e,n){var r=new Error(e||Bi[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,qi),!n)throw r;return r},Oi=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Ri=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ji=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var o=n.length,i=n.slice();if(!o)return{t:Qi,l:0};if(1==o){var a=new vi(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var l=n[0],u=n[1],s=0,c=1,h=2;for(n[0]={s:-1,f:l.f+u.f,l:l,r:u};c!=o-1;)l=n[n[s].f<n[h].f?s++:h++],u=n[s!=c&&n[s].f<n[h].f?s++:h++],n[c++]={s:-1,f:l.f+u.f,l:l,r:u};var f=i[0].s;for(r=1;r<o;++r)i[r].s>f&&(f=i[r].s);var p=new bi(f+1),d=Wi(n[c-1],p,0);if(d>e){r=0;var m=0,g=d-e,_=1<<g;for(i.sort((function(t,e){return p[e.s]-p[t.s]||t.f-e.f}));r<o;++r){var y=i[r].s;if(!(p[y]>e))break;m+=_-(1<<d-p[y]),p[y]=e}for(m>>=g;m>0;){var v=i[r].s;p[v]<e?m-=1<<e-p[v]++-1:++r}for(;r>=0&&m;--r){var b=i[r].s;p[b]==e&&(--p[b],++m)}d=e}return{t:new vi(p),l:d}},Wi=function(t,e,n){return-1==t.s?Math.max(Wi(t.l,e,n+1),Wi(t.r,e,n+1)):e[t.s]=n},Ii=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new bi(++e),r=0,o=t[0],i=1,a=function(t){n[r++]=t},l=1;l<=e;++l)if(t[l]==o&&l!=e)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=t[l]}return{c:n.subarray(0,r),n:e}},Xi=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Vi=function(t,e,n){var r=n.length,o=Yi(e+2);t[o]=255&r,t[o+1]=r>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var i=0;i<r;++i)t[o+i+4]=n[i];return 8*(o+4+r)},Gi=function(t,e,n,r,o,i,a,l,u,s,c){Oi(e,c++,n),++o[256];for(var h=ji(o,15),f=h.t,p=h.l,d=ji(i,15),m=d.t,g=d.l,_=Ii(f),y=_.c,v=_.n,b=Ii(m),w=b.c,x=b.n,k=new bi(19),C=0;C<y.length;++C)++k[31&y[C]];for(C=0;C<w.length;++C)++k[31&w[C]];for(var T=ji(k,7),M=T.t,E=T.l,A=19;A>4&&!M[Ci[A-1]];--A);var S,F,D,N,L=s+5<<3,U=Xi(o,Ui)+Xi(i,Hi)+a,H=Xi(o,f)+Xi(i,m)+a+14+3*A+Xi(k,M)+2*k[16]+3*k[17]+7*k[18];if(u>=0&&L<=U&&L<=H)return Vi(e,c,t.subarray(u,u+s));if(Oi(e,c,1+(H<U)),c+=2,H<U){S=Li(f,p,0),F=f,D=Li(m,g,0),N=m;var $=Li(M,E,0);Oi(e,c,v-257),Oi(e,c+5,x-1),Oi(e,c+10,A-4),c+=14;for(C=0;C<A;++C)Oi(e,c+3*C,M[Ci[C]]);c+=3*A;for(var z=[y,w],Y=0;Y<2;++Y){var P=z[Y];for(C=0;C<P.length;++C){var B=31&P[C];Oi(e,c,$[B]),c+=M[B],B>15&&(Oi(e,c,P[C]>>5&127),c+=P[C]>>12)}}}else S=$i,F=Ui,D=zi,N=Hi;for(C=0;C<l;++C){var q=r[C];if(q>255){Ri(e,c,S[(B=q>>18&31)+257]),c+=F[B+257],B>7&&(Oi(e,c,q>>23&31),c+=xi[B]);var O=31&q;Ri(e,c,D[O]),c+=N[O],O>3&&(Ri(e,c,q>>5&8191),c+=ki[O])}else Ri(e,c,S[q]),c+=F[q]}return Ri(e,c,S[256]),c+F[256]},Zi=new wi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qi=new vi(0),Ji=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&-306674912)^n>>>1;t[e]=n}return t}(),Ki=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=Ji[255&n^e[r]]^n>>>8;t=n},d:function(){return~t}}},ta=function(t,e,n,r,o){if(!o&&(o={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new vi(i.length+t.length);a.set(i),a.set(t,i.length),t=a,o.w=i.length}return function(t,e,n,r,o,i){var a=i.z||t.length,l=new vi(r+a+5*(1+Math.ceil(a/7e3))+o),u=l.subarray(r,l.length-o),s=i.l,c=7&(i.r||0);if(e){c&&(u[0]=i.r>>3);for(var h=Zi[e-1],f=h>>13,p=8191&h,d=(1<<n)-1,m=i.p||new bi(32768),g=i.h||new bi(d+1),_=Math.ceil(n/3),y=2*_,v=function(e){return(t[e]^t[e+1]<<_^t[e+2]<<y)&d},b=new wi(25e3),w=new bi(288),x=new bi(32),k=0,C=0,T=i.i||0,M=0,E=i.w||0,A=0;T+2<a;++T){var S=v(T),F=32767&T,D=g[S];if(m[F]=D,g[S]=F,E<=T){var N=a-T;if((k>7e3||M>24576)&&(N>423||!s)){c=Gi(t,u,0,b,w,x,C,M,A,T-A,c),M=k=C=0,A=T;for(var L=0;L<286;++L)w[L]=0;for(L=0;L<30;++L)x[L]=0}var U=2,H=0,$=p,z=F-D&32767;if(N>2&&S==v(T-z))for(var Y=Math.min(f,N)-1,P=Math.min(32767,T),B=Math.min(258,N);z<=P&&--$&&F!=D;){if(t[T+U]==t[T+U-z]){for(var q=0;q<B&&t[T+q]==t[T+q-z];++q);if(q>U){if(U=q,H=z,q>Y)break;var O=Math.min(z,q-2),R=0;for(L=0;L<O;++L){var j=T-z+L&32767,W=j-m[j]&32767;W>R&&(R=W,D=j)}}}z+=(F=D)-(D=m[F])&32767}if(H){b[M++]=268435456|Ai[U]<<18|Si[H];var I=31&Ai[U],X=31&Si[H];C+=xi[I]+ki[X],++w[257+I],++x[X],E=T+U,++k}else b[M++]=t[T],++w[t[T]]}}for(T=Math.max(T,E);T<a;++T)b[M++]=t[T],++w[t[T]];c=Gi(t,u,s,b,w,x,C,M,A,T-A,c),s||(i.r=7&c|u[c/8|0]<<3,c-=7,i.h=g,i.p=m,i.i=T,i.w=E)}else{for(T=i.w||0;T<a+s;T+=65535){var V=T+65535;V>=a&&(u[c/8|0]=s,V=a),c=Vi(u,c+1,t.subarray(T,V))}i.i=a}return Pi(l,0,r+Yi(c)+o)}(t,null==e.level?6:e.level,null==e.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,o)},ea=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},na=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function ra(t,e){return ta(t,e||{},0,0)}var oa=function(t,e,n,r){for(var o in t){var i=t[o],a=e+o,l=r;Array.isArray(i)&&(l=ea(r,i[1]),i=i[0]),i instanceof vi?n[a]=[i,l]:(n[a+="/"]=[new vi(0),l],oa(i,a,n,r))}},ia="undefined"!=typeof TextEncoder&&new TextEncoder,aa="undefined"!=typeof TextDecoder&&new TextDecoder;try{aa.decode(Qi,{stream:!0})}catch(t){}function la(t,e){if(ia)return ia.encode(t);for(var n=t.length,r=new vi(t.length+(t.length>>1)),o=0,i=function(t){r[o++]=t},a=0;a<n;++a){if(o+5>r.length){var l=new vi(o+8+(n-a<<1));l.set(r),r=l}var u=t.charCodeAt(a);u<128||e?i(u):u<2048?(i(192|u>>6),i(128|63&u)):u>55295&&u<57344?(i(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++a))>>18),i(128|u>>12&63),i(128|u>>6&63),i(128|63&u)):(i(224|u>>12),i(128|u>>6&63),i(128|63&u))}return Pi(r,0,o)}var ua=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&qi(9),e+=r+4}return e},sa=function(t,e,n,r,o,i,a,l){var u=r.length,s=n.extra,c=l&&l.length,h=ua(s);na(t,e,null!=a?33639248:67324752),e+=4,null!=a&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(i<0&&8),t[e++]=o&&8,t[e++]=255&n.compression,t[e++]=n.compression>>8;var f=new Date(null==n.mtime?Date.now():n.mtime),p=f.getFullYear()-1980;if((p<0||p>119)&&qi(10),na(t,e,p<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),e+=4,-1!=i&&(na(t,e,n.crc),na(t,e+4,i<0?-i-2:i),na(t,e+8,n.size)),na(t,e+12,u),na(t,e+14,h),e+=16,null!=a&&(na(t,e,c),na(t,e+6,n.attrs),na(t,e+10,a),e+=14),t.set(r,e),e+=u,h)for(var d in s){var m=s[d],g=m.length;na(t,e,+d),na(t,e+2,g),t.set(m,e+4),e+=4+g}return c&&(t.set(l,e),e+=c),e};function ca(t,e){e||(e={});var n={},r=[];oa(t,"",n,e);var o=0,i=0;for(var a in n){var l=n[a],u=l[0],s=l[1],c=0==s.level?0:8,h=(k=la(a)).length,f=s.comment,p=f&&la(f),d=p&&p.length,m=ua(s.extra);h>65535&&qi(11);var g=c?ra(u,s):u,_=g.length,y=Ki();y.p(u),r.push(ea(s,{size:u.length,crc:y.d(),c:g,f:k,m:p,u:h!=a.length||p&&f.length!=d,o:o,compression:c})),o+=30+h+m+_,i+=76+2*(h+m)+(d||0)+_}for(var v=new vi(i+22),b=o,w=i-o,x=0;x<r.length;++x){var k=r[x];sa(v,k.o,k,k.f,k.u,k.c.length);var C=30+k.f.length+ua(k.extra);v.set(k.c,k.o+C),sa(v,o,k,k.f,k.u,k.c.length,k.o,k.m),o+=16+C+(k.m?k.m.length:0)}return function(t,e,n,r,o){na(t,e,101010256),na(t,e+8,n),na(t,e+10,n),na(t,e+12,r),na(t,e+16,o)}(v,o,r.length,w,b),v}var ha=new Date,fa=new Date;function pa(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return l},o.filter=function(n){return pa((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return ha.setTime(+e),fa.setTime(+r),t(ha),t(fa),Math.floor(n(ha,fa))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var da=864e5,ma=6048e5,ga=pa((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/da}),(function(t){return t.getDate()-1}));function _a(t){return pa((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/ma}))}ga.range;var ya=_a(0),va=_a(1),ba=_a(2),wa=_a(3),xa=_a(4),ka=_a(5),Ca=_a(6);ya.range,va.range,ba.range,wa.range,xa.range,ka.range,Ca.range;var Ta=pa((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ta.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pa((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},Ta.range;var Ma=pa((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/da}),(function(t){return t.getUTCDate()-1}));function Ea(t){return pa((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/ma}))}Ma.range;var Aa=Ea(0),Sa=Ea(1),Fa=Ea(2),Da=Ea(3),Na=Ea(4),La=Ea(5),Ua=Ea(6);Aa.range,Sa.range,Fa.range,Da.range,Na.range,La.range,Ua.range;var Ha=pa((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function $a(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function za(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ya(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Ha.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pa((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},Ha.range;var Pa,Ba,qa,Oa={"-":"",_:" ",0:"0"},Ra=/^\s*\d+/,ja=/^%/,Wa=/[\\^$*+?|[\]().{}]/g;function Ia(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Xa(t){return t.replace(Wa,"\\$&")}function Va(t){return new RegExp("^(?:"+t.map(Xa).join("|")+")","i")}function Ga(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Za(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qa(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ja(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ka(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tl(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function el(t,e,n){var r=Ra.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nl(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rl(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ol(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function il(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function al(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ll(t,e,n){var r=Ra.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ul(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sl(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cl(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hl(t,e,n){var r=Ra.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fl(t,e,n){var r=Ra.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pl(t,e,n){var r=ja.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dl(t,e,n){var r=Ra.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ml(t,e,n){var r=Ra.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gl(t,e){return Ia(t.getDate(),e,2)}function _l(t,e){return Ia(t.getHours(),e,2)}function yl(t,e){return Ia(t.getHours()%12||12,e,2)}function vl(t,e){return Ia(1+ga.count(Ta(t),t),e,3)}function bl(t,e){return Ia(t.getMilliseconds(),e,3)}function wl(t,e){return bl(t,e)+"000"}function xl(t,e){return Ia(t.getMonth()+1,e,2)}function kl(t,e){return Ia(t.getMinutes(),e,2)}function Cl(t,e){return Ia(t.getSeconds(),e,2)}function Tl(t){var e=t.getDay();return 0===e?7:e}function Ml(t,e){return Ia(ya.count(Ta(t)-1,t),e,2)}function El(t){var e=t.getDay();return e>=4||0===e?xa(t):xa.ceil(t)}function Al(t,e){return t=El(t),Ia(xa.count(Ta(t),t)+(4===Ta(t).getDay()),e,2)}function Sl(t){return t.getDay()}function Fl(t,e){return Ia(va.count(Ta(t)-1,t),e,2)}function Dl(t,e){return Ia(t.getFullYear()%100,e,2)}function Nl(t,e){return Ia((t=El(t)).getFullYear()%100,e,2)}function Ll(t,e){return Ia(t.getFullYear()%1e4,e,4)}function Ul(t,e){var n=t.getDay();return Ia((t=n>=4||0===n?xa(t):xa.ceil(t)).getFullYear()%1e4,e,4)}function Hl(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ia(e/60|0,"0",2)+Ia(e%60,"0",2)}function $l(t,e){return Ia(t.getUTCDate(),e,2)}function zl(t,e){return Ia(t.getUTCHours(),e,2)}function Yl(t,e){return Ia(t.getUTCHours()%12||12,e,2)}function Pl(t,e){return Ia(1+Ma.count(Ha(t),t),e,3)}function Bl(t,e){return Ia(t.getUTCMilliseconds(),e,3)}function ql(t,e){return Bl(t,e)+"000"}function Ol(t,e){return Ia(t.getUTCMonth()+1,e,2)}function Rl(t,e){return Ia(t.getUTCMinutes(),e,2)}function jl(t,e){return Ia(t.getUTCSeconds(),e,2)}function Wl(t){var e=t.getUTCDay();return 0===e?7:e}function Il(t,e){return Ia(Aa.count(Ha(t)-1,t),e,2)}function Xl(t){var e=t.getUTCDay();return e>=4||0===e?Na(t):Na.ceil(t)}function Vl(t,e){return t=Xl(t),Ia(Na.count(Ha(t),t)+(4===Ha(t).getUTCDay()),e,2)}function Gl(t){return t.getUTCDay()}function Zl(t,e){return Ia(Sa.count(Ha(t)-1,t),e,2)}function Ql(t,e){return Ia(t.getUTCFullYear()%100,e,2)}function Jl(t,e){return Ia((t=Xl(t)).getUTCFullYear()%100,e,2)}function Kl(t,e){return Ia(t.getUTCFullYear()%1e4,e,4)}function tu(t,e){var n=t.getUTCDay();return Ia((t=n>=4||0===n?Na(t):Na.ceil(t)).getUTCFullYear()%1e4,e,4)}function eu(){return"+0000"}function nu(){return"%"}function ru(t){return+t}function ou(t){return Math.floor(+t/1e3)}function iu(t){throw new TypeError("Expected a value of type string but got a value of type "+typeof t)}function au(t){return function(e){return"string"!=typeof e&&iu(e),(e=e.trim())?t(e):null}}!function(t){Pa=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,s=Va(o),c=Ga(o),h=Va(i),f=Ga(i),p=Va(a),d=Ga(a),m=Va(l),g=Ga(l),_=Va(u),y=Ga(u),v={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:gl,e:gl,f:wl,g:Nl,G:Ul,H:_l,I:yl,j:vl,L:bl,m:xl,M:kl,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ru,s:ou,S:Cl,u:Tl,U:Ml,V:Al,w:Sl,W:Fl,x:null,X:null,y:Dl,Y:Ll,Z:Hl,"%":nu},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:$l,e:$l,f:ql,g:Jl,G:tu,H:zl,I:Yl,j:Pl,L:Bl,m:Ol,M:Rl,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ru,s:ou,S:jl,u:Wl,U:Il,V:Vl,w:Gl,W:Zl,x:null,X:null,y:Ql,Y:Kl,Z:eu,"%":nu},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:al,e:al,f:fl,g:nl,G:el,H:ul,I:ul,j:ll,L:hl,m:il,M:sl,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:ol,Q:dl,s:ml,S:cl,u:Qa,U:Ja,V:Ka,w:Za,W:tl,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:nl,Y:el,Z:rl,"%":pl};function x(t,e){return function(n){var r,o,i,a=[],l=-1,u=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===t.charCodeAt(l)&&(a.push(t.slice(u,l)),null!=(o=Oa[r=t.charAt(++l)])?r=t.charAt(++l):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),u=l+1);return a.push(t.slice(u,l)),a.join("")}}function k(t,e){return function(n){var r,o,i=Ya(1900,void 0,1);if(C(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=za(Ya(i.y,0,1))).getUTCDay(),r=o>4||0===o?Sa.ceil(r):Sa(r),r=Ma.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=$a(Ya(i.y,0,1))).getDay(),r=o>4||0===o?va.ceil(r):va(r),r=ga.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?za(Ya(i.y,0,1)).getUTCDay():$a(Ya(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,za(i)):$a(i)}}function C(t,e,n,r){for(var o,i,a=0,l=e.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=w[o in Oa?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),Pa.format,Pa.parse,Ba=Pa.utcFormat,qa=Pa.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var lu=new Date(1972,3,27,19,45,5),uu={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function su(t){return function(e){var n=null;return t.forEach((function(t){e.match(t.regex)&&(n=t.toDate(e))})),n}}function cu(t,e){var n,r=qa(t),o=Ba(t);return n=au("function"==typeof e?function(t){return e(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:n,parse:au((function(e){return r(e)||(uu[t]?su(uu[t])(e):null)})),format:function(t){return o(t)},type:"datetime",description:t,id:"datetime$"+t,example:o(lu)})}var hu=Object.freeze([cu("%Y-%m-%dT%H:%M:%S.%LZ"),cu("%Y-%m-%d %H:%M:%S"),cu("%Y-%m-%dT%H:%M:%S"),cu("%Y-%m-%dT%H:%M:%SZ"),cu("%d/%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),cu("%d/%m/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),cu("%d/%m/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),cu("%m/%d/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),cu("%m/%d/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),cu("%m/%d/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),cu("%Y/%m/%d",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),cu("%d-%m-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),cu("%d-%m-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),cu("%d.%m.%Y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),cu("%m.%d.%y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),cu("%m-%d-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),cu("%m-%d-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),cu("%Y-%m-%d",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),cu("%Y-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),cu("%Y%m",(function(t,e){if(!e)return!1;var n=parseFloat(t.slice(0,4)),r=parseFloat(t.slice(4));return n>1e3&&r>0&&r<=12})),cu("%d %b %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),cu("%d %B %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),cu("%d %b %y"),cu("%-d %b ’%y"),cu("%d %B %y"),cu("%d-%b-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),cu("%d-%B-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),cu("%d-%b-%y"),cu("%d-%B-%y"),cu("%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),cu("%m/%y"),cu("%b %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),cu("%B %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),cu("%b-%y"),cu("%b %y"),cu("%B %y"),cu("%b '%y"),cu("%b ’%y"),cu("%B %-d %Y"),cu("%d %b",(function(t,e){return!!e||!!su(uu["%d %b"])(t)})),cu("%d %B"),cu("%b %d",(function(t,e){return!!e||!!su(uu["%b %d"])(t)})),cu("%B %d"),cu("%d-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),cu("%m-%d"),cu("%d/%m"),cu("%m/%d"),cu("%b %d %Y"),cu("%b %d %Y, %-I.%M%p"),cu("%Y",(function(t,e){if(!e)return!1;var n=parseFloat(t);return n>1499&&n<2200})),cu("%B"),cu("%b"),cu("%X"),cu("%I:%M %p"),cu("%-I.%M%p"),cu("%H:%M",(function(t,e){if(!e)return!1;var n=t.split(":").map(parseFloat);return n[0]>=0&&n[0]<24})),cu("%H:%M:%S"),cu("%M:%S"),cu("%-I%p"),cu("Q%q %Y",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),cu("%Y Q%q",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),cu("%YM%m",(function(t,e){if(!e)return!1;var n=t.split("M").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),cu("%YQ%q",(function(t,e){if(!e)return!1;var n=t.split("Q").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=4})),cu("%YÁ%q",(function(t,e){if(!e)return!1;var n=t.split("Á").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=4}))]);function fu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var pu,du=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mu(t){if(!(e=du.exec(t)))throw new Error("invalid format: "+t);var e;return new gu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function gu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function _u(t,e){var n=fu(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}mu.prototype=gu.prototype,gu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yu={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return _u(100*t,e)},r:_u,s:function(t,e){var n=fu(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(pu=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+fu(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function vu(t){return t}var bu=Array.prototype.map,wu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?vu:(e=bu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(t.substring(o-=l,o+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?vu:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(bu.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=mu(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,m=t.comma,g=t.precision,_=t.trim,y=t.type;"n"===y?(m=!0,y="g"):yu[y]||(void 0===g&&(g=12),_=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var v="$"===f?o:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?i:/[%p]/.test(y)?u:"",w=yu[y],x=/[defgprs%]/.test(y);function k(t){var o,i,u,f=v,k=b;if("c"===y)k=w(t)+k,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),g),_&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==h&&(C=!1),f=(C?"("===h?h:s:"-"===h||"("===h?"":h)+f,k=("s"===y?wu[8+pu/3]:"")+k+(C&&"("===h?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(u=t.charCodeAt(o))||u>57){k=(46===u?a+t.slice(o+1):t.slice(o))+k,t=t.slice(0,o);break}}m&&!p&&(t=r(t,1/0));var T=f.length+t.length+k.length,M=T<d?new Array(d-T+1).join(e):"";switch(m&&p&&(t=r(M+t,M.length?d-k.length:1/0),M=""),n){case"<":t=f+t+k+M;break;case"=":t=f+M+t+k;break;case"^":t=M.slice(0,T=M.length>>1)+f+t+k+M.slice(T);break;default:t=M+f+t+k}return l(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=mu(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=fu(Math.abs(t)))?t[1]:NaN}(e)/3))),o=Math.pow(10,-r),i=wu[8+r/3];return function(t){return n(o*t)+i}}}}var ku={test:au((function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:au((function(t){return parseFloat(t.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Cu={test:au((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:au((function(t){return parseFloat(t.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},Tu={test:au((function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:au((function(t){return parseFloat(t)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Mu={test:au((function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:au((function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},Eu={test:au((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:au((function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Au={test:au((function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:au((function(t){return parseFloat(t.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},Su=Object.freeze([ku,Cu,Mu,Eu,Tu,Au]);Su.forEach((function(t){t.type="number",t.format=function(t){var e,n,r=xu({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,o){return null===t?"":(o||(o=",.2f"),o!==n&&(n=o,e=r.format(n)),e(t))}}(t),Object.freeze(t)}));var Fu,Du=Object.freeze({test:function(t){return"string"==typeof t||iu(t)},parse:function(t){return"string"==typeof t?t:iu(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),Nu=Object.freeze({datetime:hu,number:Su}),Lu=Object.freeze(["datetime","number","string"]),Uu=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),Hu=Object.freeze(Object.keys(Uu));function $u(t,e){return t.index-e.index}function zu(t,e){return e.n_success-t.n_success||$u(t,e)}function Yu(t){return(""+t).trim()}function Pu(t){return void 0===t?function(t){return Yu(t)}:"function"==typeof t?function(e,n){return Yu(t(e,n))}:function(e){return Yu(e[""+t])}}function Bu(t){t?Array.isArray(t)||(t=[t]):t=Lu;var e=t.reduce((function(t,e){var n=Nu[e];return n&&Array.prototype.push.apply(t,n),t}),[]),n=-1!==t.indexOf("string"),r=Hu.reduce((function(t,e){return t[e]=Uu[e],t}),{}),o=function(t,o){o=Pu(o);var i=t.map(o).filter(Boolean);if(!i.length)return n?[Du]:[];var a=Math.min(r.n_max,i.length),l=Math.floor(a*r.failure_fraction),u=r.n_failing_values,s=r.sort?zu:$u,c=e.slice().reduce((function(t,e,n){for(var r=c=0,o=[],s=!1,c=0;c<a;c++){var h=i[c];if(!e.test(h)&&(++r>l?s=!0:-1===o.indexOf(h)&&(o.push(h),o.length>u&&(s=!0)),s))break}return s||t.push({interp:e,n_success:a-r,index:n}),t}),[]).sort(s).map((function(t){return t.interp}));return n&&c.push(Du),c};return Hu.forEach((function(t){var e;o[(e=t,e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})))]=function(e){return void 0===e?r[t]:(r[t]=e,o)}})),o}function qu(t){const e=Bu.getInterpretation(t);if(!e)throw new Error(`format_id ${t} not recognised`);return function(){return e.format(...arguments)}}function Ou(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t;return"datetime"===e&&Boolean(r)&&(r=function(t,e){let n=e;/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(e)?n=new Date(e):"string"==typeof e&&(n=Bu.getInterpretation(t).parse(n));return qu(t)(n)}(n,r)),"number"===e&&Boolean(r)&&(r=function(t,e){const n=parseFloat(e),r=`,.${(e.toString().split(".")[1]||"").length}f`;let o=qu(t)(e,r);const i={none:"",comma:",",point:".",space:" "},a=t.split("$")[1].split("_")[1];return Number.isInteger(n)&&(o=o.split(i[a])[0]),o}(n,r)),(String(r).includes(",")||String(r).includes('"')||String(r).includes("\r")||String(r).includes("\n"))&&(r=`"${String(r).replace(/"/g,'""')}"`),r}function Ru(t){const e=Object.keys(t);let n={};const r=["lines","order","labels","colors","regions_geometry","geo_regions"],o=e.filter((e=>!r.includes(e)&&0!==t[e].length));return o.forEach((e=>{const r=function(t,e){const n=JSON.parse(JSON.stringify(t[e]));return n.column_names=t[e].column_names||{},n.metadata=t[e].metadata||{},n.forEach((t=>{Object.keys(t).forEach((e=>{Object.keys(n.column_names).includes(e)||delete t[e]}))})),n}(t,e);n[e]=r})),{formatted_datasets:n,datasets_to_download:o}}function ju(t,e){const n=t[e],{headers:r,header_index_lookup:o}=function(t){const e=[],n={};for(const r in t.column_names)t.column_names[r]&&((Array.isArray(t.column_names[r])?t.column_names[r]:[t.column_names[r]]).forEach((t=>{let n=Ou(t);e.includes(n)||e.push(n)})),Array.isArray(t.column_names[r])?n[r]=t.column_names[r].map((t=>e.indexOf(Ou(t)))):n[r]=e.indexOf(Ou(t.column_names[r])));return{headers:e,header_index_lookup:n}}(n),i=function(t,e,n){const r=[];return t.forEach((e=>{const o=[];for(const r in e){const i=e[r],a=n[r];let l=t.metadata?t.metadata[r]?.type:null,u=t.metadata?t.metadata[r]?.type_id:null;Array.isArray(i)?i.forEach(((e,n)=>{l=t.metadata[r][n]?.type,u=t.metadata[r][n]?.type_id,o[a[n]]=Ou(e,l,u)})):o[a]=Ou(i,l,u)}r.push(o)})),[e.join(",")].concat(r.map((t=>t.join(",")))).join("\n")}(n,r,o);return i}Bu.DATETIME_IDS=Object.freeze(hu.map((function(t){return t.id}))),Bu.NUMBER_IDS=Object.freeze(Su.map((function(t){return t.id}))),Bu.STRING_IDS=Object.freeze([Du.id]),Bu.getInterpretation=(Fu=hu.concat(Su,Du).reduce((function(t,e){return t[e.id]=e,t}),{}),function(t){return Fu[t]}),Bu._createAccessorFunction=Pu;var Wu="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0;function Iu(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Zu(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function Xu(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function Vu(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Gu=Wu.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Zu=Wu.saveAs||("object"!=typeof window||window!==Wu?function(){}:"download"in HTMLAnchorElement.prototype&&!Gu?function(t,e,n){var r=Wu.URL||Wu.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin!==location.origin?Xu(o.href)?Iu(t,e,n):Vu(o,o.target="_blank"):Vu(o)):(o.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(o.href)}),4e4),setTimeout((function(){Vu(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(Xu(t))Iu(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Vu(r)}))}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return Iu(t,e,n);var o="application/octet-stream"===t.type,i=/constructor/i.test(Wu.HTMLElement)||Wu.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&i||Gu)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var u=Wu.URL||Wu.webkitURL,s=u.createObjectURL(t);r?r.location=s:location.href=s,r=null,setTimeout((function(){u.revokeObjectURL(s)}),4e4)}});let Qu,Ju,Ku,ts,es;Wu.saveAs=Zu.saveAs=Zu;let ns=!1;function rs(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),Qu=document.createElement("footer"),Qu.className="flourish-footer",Ju=document.createElement("div"),Ju.className="flourish-footer-text",Ju.setAttribute("id","flourish-footer-text"),Ku=document.createElement("div"),Ku.className="flourish-footer-logo-container",Qu.appendChild(Ju),Qu.appendChild(Ku),Qu}function os(){var t=fs.footer_logo_src?fs.footer_logo_src:"";return fs.footer_logo_src_light&&fs.background_color_enabled&&!xr(fs.background_color)&&(t=fs.footer_logo_src_light),t}function is(){return fs.footer_logo_enabled&&os()}function as(){var t=[{name:fs.source_name,url:fs.source_url},{name:fs.multiple_sources?fs.source_name_2:"",url:fs.multiple_sources?fs.source_url_2:""},{name:fs.multiple_sources?fs.source_name_3:"",url:fs.multiple_sources?fs.source_url_3:""}].filter((function(t){return t.name||t.url}));ns=t.length>0||fs.footer_note||fs.footer_note_secondary||is();var e,n="top"==fs.footer_border||"top_and_bottom"==fs.footer_border,r="bottom"==fs.footer_border||"top_and_bottom"==fs.footer_border;Qu.style.display="flex",Qu.style.height=ns?null:0,Qu.style.width="100%",Qu.style.paddingTop=n?fs.footer_border_space+"rem":"",Qu.style.paddingBottom=r?fs.footer_border_space+"rem":"",Qu.style.borderTop=n?fs.footer_border_width+"px "+fs.footer_border_style+" "+fs.footer_border_color:"",Qu.style.borderBottom=r?fs.footer_border_width+"px "+fs.footer_border_style+" "+fs.footer_border_color:"",Qu.style.fontFamily=fs.footer_font?fs.footer_font.name:"inherit",Qu.style.fontWeight=fs.footer_text_weight,Qu.style.justifyContent="justify"==(e=fs.footer_align)?"space-between":"left"==e?"flex-start":"right"==e?"flex-end":"center"==e?"center":void 0,Qu.style.fontSize=fs.footer_text_size+"rem",Qu.style.color=fs.footer_text_color||fs.font_color,Qu.style.alignItems=fs.footer_align_vertical;var o=document.createElement("span");t.forEach((function(t,e){var n=document.createElement("p");if(e>0&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=mr(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;o.innerHTML+=n.innerHTML})),Ju.style.order="left"==fs.footer_logo_order?2:"",Ju.style.textAlign=dr(fs.footer_align);const i=""!==o.innerHTML?`${fs.source_label} ${o.innerHTML}`:"",a=fs.footer_note?(""!==o.innerHTML?" • ":"")+ls("primary"):"",l=fs.footer_note_secondary?`<br /><p>${ls("secondary")}</p>`:"";Ju.innerHTML=`<p>${i}${a}</p>${l}`,Ku.innerHTML="",is()&&(ts=ts||document.createElement("img"),ts.className="flourish-footer-logo",ts.src=mr(os()),ts.alt=fs.footer_logo_alt,ts.style.height=fs.footer_logo_height+"rem",ts.style.marginRight="left"==fs.footer_logo_order?fs.footer_logo_margin+"rem":"",ts.style.marginLeft="right"==fs.footer_logo_order?fs.footer_logo_margin+"rem":"",ts.style.verticalAlign=fs.footer_align_vertical,ts.style.display=is()?"":"none",fs.footer_logo_link_url?(es=document.createElement("a"),es.target="_blank",es.appendChild(ts),Ku.appendChild(es),ts.style.cursor="pointer",es.href=mr(fs.footer_logo_link_url)):Ku.appendChild(ts)),document.querySelectorAll(".fl-data-download-button").forEach((t=>{t.addEventListener("click",(async t=>{t.preventDefault();const{file_name:e,blob:n}=await async function(){const t={},{formatted_datasets:e,datasets_to_download:n}=Ru(window.template?.data);if(1===n.length){const t=n[0],r=`Flourish-data_${t}.csv`,o=ju(e,t);return{file_name:r,blob:new Blob([o],{type:"text/csv"})}}if(n.length>1){n.forEach((n=>{const r=ju(e,n);t[`${n}.csv`]=la(r)}));const r="Flourish-data.zip",o=ca(t);return{file_name:r,blob:new Blob([o],{type:"application/zip"})}}return Flourish.warn("There is no data to download"),null}();try{Zu(n,e)}catch(t){console.error("An error occurred while saving the file:",t)}}))}))}function ls(t){return("primary"===t?fs.footer_note:fs.footer_note_secondary).replace(/{{([^}]+)}}/g,((t,e)=>{if("data_last_updated"===e){return function(t,e){let n="n/a";null!==t&&(n=to(e)(t));return n}(function(t){const e="data_last_updated"===t?"last_updated":t,n=Object.keys(window.template?.data);if(n.length>0){const t=n.map((t=>window.template.data[t].timestamps?.[e]||null)).filter((t=>null!==t));if(0===t.length)return null;return Math.max(...t)}return null}(e),fs.footer_timestamp_format)}if(e.includes("download_data")){return!!window.template.data&&(window.template.data.length||Object.keys(window.template.data).length)?function(t){const e=[...document.querySelectorAll(".fl-data-download-button")],n=[...document.querySelectorAll("#flourish-header-title, #flourish-header-subtitle, #flourish-header-text")].find((t=>Boolean(t.textContent.trim()))),r=`fl-data-download-button-${e.length}`,o=n?`aria-labelledby='${n.id} ${r}'`:"";let i="Download data";if(t.includes('"')){const e=t.indexOf('"'),n=t.lastIndexOf('"');i=t.slice(e+1,n)}return`<a id='${r}' ${o} href='#' class='fl-data-download-button'>${i}</a>`}(e):(Flourish.warn("There is no data to download"),"")}return""}))}function us(){er(),_r(),as(),document.body.style.backgroundColor=fs.background_color_enabled?fs.background_color:"transparent",document.body.style.backgroundImage=fs.background_image_enabled?"url("+fs.background_image_src+")":"",document.body.style.backgroundSize=fs.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=fs.background_image_position;var t=gs.wrapper.style;t.display="flex",t.height="100vh",t.color=fs.font_color,t.maxWidth="wrapper"==fs.max_width_target?fs.max_width+"px":"",t.marginLeft="wrapper"==fs.max_width_target&&"left"!=fs.max_width_align?"auto":"",t.marginRight="wrapper"==fs.max_width_target&&"right"!=fs.max_width_align?"auto":"",t.padding=fs.margin_top+"rem "+fs.margin_right+"rem "+fs.margin_bottom+"rem "+fs.margin_left+"rem",t.borderTop=fs.border.enabled?fs.border.top.width+"px "+fs.border.top.style+" "+fs.border.top.color:"",t.borderRight=fs.border.enabled?fs.border.right.width+"px "+fs.border.right.style+" "+fs.border.right.color:"",t.borderBottom=fs.border.enabled?fs.border.bottom.width+"px "+fs.border.bottom.style+" "+fs.border.bottom.color:"",t.borderLeft=fs.border.enabled?fs.border.left.width+"px "+fs.border.left.style+" "+fs.border.left.color:"";var e=gs.primary.outer.style,n=gs.legend.outer.style,r=ss();if("stack"==r.mode)r.elements.forEach((function(t,e){gs[t].outer.style.order=10*e}));else for(var o in r.elements)for(var i in r.elements[o]){var a=gs[o].outer||gs[o];a.style[i]=r.elements[o][i],a.style.order=""}gs.header.outer.style.display="",gs.footer.outer.style.display="",gs.controls.outer.style.display="",e.display="flex",n.display="",e.flex="1 1 auto",e.height=null,gs.primary.outer.style.maxWidth="primary"==fs.max_width_target?fs.max_width+"px":"",gs.primary.outer.style.marginLeft="primary"==fs.max_width_target&&"left"!=fs.max_width_align?"auto":"",gs.primary.outer.style.marginRight="primary"==fs.max_width_target&&"right"!=fs.max_width_align?"auto":"";var l=""!=fs.screenreader_text_primary.trim(),u=document.getElementById("fl-layout-primary-description");gs.primary.outer.setAttribute("aria-label","primary visualisation container"),u.innerText=fs.screenreader_text_primary,l?gs.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):gs.primary.outer.removeAttribute("aria-describedBy"),fs.screenreader_hide_primary?gs.primary.inner.setAttribute("aria-hidden",!0):gs.primary.inner.removeAttribute("aria-hidden"),""!=fs.screenreader_label.trim()?bs().setAttribute("aria-label",fs.screenreader_label):bs().removeAttribute("aria-label"),ms.map((function(t){var e=gs[t],n=e.outer.style;return{name:t,height:ys(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height||"primary"==t.name)return!0;t.style.paddingBottom="",t.style.paddingTop="",t.style.display="none"})).forEach((function(t,e,n){t.style.width="100%",t.style.paddingTop=e?cs("padding"):"",t.style.paddingBottom=e<n.length-1?cs("padding"):""})),gs.wrapper.style.gridColumnGap=cs("gap"),gs.wrapper.style.gridRowGap=cs("gap"),document.body.setAttribute("dir",fs.read_direction),gs.wrapper.setAttribute("dir",fs.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}function ss(){var t=window.innerWidth<fs.breakpoint_mobile_big,e=fs.layout_order.indexOf("grid")>-1,n={id:fs.layout_order,mode:e?"grid":"stack",elements:fr[fs.layout_order]};return t&&e&&(n.id="stack-default",n.mode="stack",n.elements=fr["stack-default"]),n}function cs(t){var e,n=ss();return e="custom"==fs.space_between_sections?fs.space_between_sections_custom:fs.space_between_sections,"grid"==n.mode?"gap"==t?e+"rem":"":"gap"==t?"":e/2+"rem"}var hs=Object.freeze({body_font:{name:"Canva Sans Variable",url:"https://public.flourish.studio/resources/fonts/canva-sans.css"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_alt:"Header logo",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:2,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.4,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:.5,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_alt:"Footer logo",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",footer_timestamp_format:"%H:%M:%S",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var fs;function ps(t,e,n){er(n),t=function(t){return function(){return document.body.classList.add("fl-fonts-loaded"),t.apply(this,arguments)}}(t=t||window.template.update);var r=setTimeout(t,isNaN(e)?500:e),o=[];document.fonts&&o.push(document.fonts.ready),is()&&o.push(function(){if(is())return new Promise((function(t){var e=mr(os());function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}ts=ts||document.createElement("img"),ts.onload=function(){t()},ts.onerror=n,ts.oncancel=n,ts.src=e}))}()),gr()&&o.push(function(){if(gr())return new Promise((function(t){var e=mr(fs.header_logo_src);function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(cr=cr||document.createElement("img")).onload=function(){t()},cr.onerror=n,cr.oncancel=n,cr.src=e}))}()),o.length&&(document.fonts||o.push(new Promise((function(t){setTimeout(t,500)}))),Promise.all(o).then((function(e){document.fonts&&e[0].size&&(clearTimeout(r),t(),tr()),document.fonts.addEventListener("loadingdone",(function(){clearTimeout(r),t(),tr()}))})))}var ds,ms=["header","controls","legend","primary","footer"],gs={};function _s(t){return t.getBoundingClientRect().width}function ys(t){return t.getBoundingClientRect().height}function vs(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var o=document.createElement("div");return o.className="fl-layout-inner",o.id=n,o.style.width="100%",o.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),r.appendChild(o),gs.wrapper.appendChild(r),{outer:r,inner:o}}function bs(){return gs.wrapper}function ws(){return gs.sidebar}function xs(t){return-1!==ms.indexOf(t)?gs[t].inner:null}function ks(t){return gs[t]||void 0===t?_s("wrapper"==t||void 0===t?gs.wrapper:gs[t].outer):null}function Cs(t){return gs[t]||void 0===t?"wrapper"==t||void 0===t?_s(gs.wrapper)-Ns("horizontal")-Ls("horizontal"):_s(gs[t].inner):null}function Ts(t){return gs[t]||void 0===t?ys("wrapper"==t||void 0===t?gs.wrapper:gs[t].outer):null}function Ms(t){return gs[t]||void 0===t?"wrapper"==t||void 0===t?ys(gs.wrapper)-Ns("vertical")-Ls("vertical"):ys(gs[t].inner):null}function Es(){var t="grid"==ss().mode?0:Fs(gs.primary.outer);return ys(gs.primary.outer)-t}function As(){return _s(gs.primary.inner)}function Ss(){return fs.screenreader_hide_primary?"hidden":"readable"}function Fs(t){return"grid"==ss().mode?parseFloat(getComputedStyle(gs.wrapper).gap)||0:(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function Ds(){var t=function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-Ns("vertical")-Ls("vertical"),e=function(){var t=ss(),e="grid-1"==t.id?[]:["header","controls","legend","footer"];return e.reduce((function(e,n){var r=Ts(n);return r>0&&"grid"==t.mode&&(r+=Fs()),e+r}),0)}();return t-e-("grid"==ss().mode?0:Fs(gs.primary.outer))}function Ns(t){var e;return"left"==t?e=fs.margin_left:"right"==t?e=fs.margin_right:"top"==t?e=fs.margin_top:"bottom"==t?e=fs.margin_bottom:"horizontal"==t?e=fs.margin_left+fs.margin_right:"vertical"==t&&(e=fs.margin_top+fs.margin_bottom),pr(e)}function Ls(t){return fs.border.enabled?"vertical"==t?fs.border.top.width+fs.border.bottom.width:"horizontal"==t?fs.border.left.width+fs.border.right.width:null:0}function Us(t){var e=gs.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?Ds():t;r+Fs(gs.primary.outer)!==parseFloat(e.outer.style.height)&&(gs.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:Ts()))}}function Hs(t){var e=ds.querySelector(".fl-layout-overlay-message");if(t){ds.style.display="block";var n="string"==typeof t?t:"Your web browser does not support the features used by this content. Consider updating to a modern browser.";e.innerHTML=n}else e.textContent="",ds.style.display="none"}function $s(){return ds}let zs;function Ys(){zs&&Ps(),zs=function(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return console.error("No valid target in createScreenshotSVG"),null;const{width:n,height:r,x:o,y:i}=t.getBoundingClientRect(),a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.id=e,a.classList.add("flourish-screenshot-svg-container"),a.style.left=o+"px",a.style.top=i+"px",a.style.width=n+"px",a.style.height=r+"px",a.style.position="absolute",t.appendChild(a),{addTextElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addTextElements"),null;for(const t of e){const{x:e,y:n,width:r}=t.getBoundingClientRect(),o=document.createElementNS("http://www.w3.org/2000/svg","text"),{color:i,"font-family":l,"font-size":u,"font-weight":s,"line-height":c,"padding-left":h,"padding-top":f}=window.getComputedStyle(t),p=`${s} ${u} ${l}`,d=Zn(t.innerText,p,null,Math.ceil(r)),m=isNaN(parseFloat(c))?1.2*parseFloat(u)+"px":c,g=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity;d.forEach(((t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.innerHTML=t,r.setAttribute("dy",0===n?parseFloat(f):m),r.setAttribute("dx",parseFloat(h)),r.setAttribute("x",e),r.setAttribute("opacity",g),o.appendChild(r)})),o.style.dominantBaseline="text-before-edge",o.setAttribute("x",e+"px"),o.setAttribute("y",n+"px"),o.setAttribute("font-family",l),o.setAttribute("font-size",u),o.setAttribute("font-weight",s),o.setAttribute("fill",i),a.appendChild(o)}return this},addCircleElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addCircleElements"),null;for(const t of e){const e=document.createElementNS("http://www.w3.org/2000/svg","circle"),{x:n,y:r,width:o}=t.getBoundingClientRect(),i=window.getComputedStyle(t)["background-color"],l=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity,u=o/2;e.setAttribute("cx",n+u+"px"),e.setAttribute("cy",r+u+"px"),e.setAttribute("r",u+"px"),e.setAttribute("opacity",l),e.setAttribute("fill",i),"rgba(0, 0, 0, 0)"===i&&e.setAttribute("stroke","#CCC"),a.appendChild(e)}return this},addSwatchElements:function(e,n){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addSwatchElements"),null;"string"==typeof n&&(n=t.querySelectorAll(n));for(const[t,r]of e.entries()){const e=document.createElementNS("http://www.w3.org/2000/svg","rect"),{x:o,y:i,width:l,height:u}=r.getBoundingClientRect(),s=n[t]?.getBoundingClientRect()?.y,c=window.getComputedStyle(r)["background-color"],h=window.getComputedStyle(r).border,[,f,p,d,m]=h.replace(/\s/g,"").match(/rgba?\((\d+(?:\.\d+)?),(\d+(?:\.\d+)?),(\d+(?:\.\d+)?)(?:,(\d+(?:\.\d+)?))?\)/i),g=m?`rgba(${f},${p},${d},${m})`:`rgb(${f},${p},${d})`||"#000",_=h.split(" ")[0]||0;let y=window.getComputedStyle(r)["border-radius"]||0;y=parseFloat(y);const v=window.getComputedStyle(r.closest("[style*='opacity']")||r).opacity;e.setAttribute("x",o),e.setAttribute("y",s||i),e.setAttribute("width",`${l}px`),e.setAttribute("height",`${u}px`),e.setAttribute("rx",y),e.setAttribute("ry",y),e.setAttribute("opacity",v),e.setAttribute("fill",c),e.setAttribute("stroke",g),e.setAttribute("stroke-width",_),"rgba(0, 0, 0, 0)"===c&&e.setAttribute("stroke","#CCC"),a.appendChild(e)}return this},addGradient:function(e,n,r){if("string"==typeof e&&(e=t.querySelector(e)),!e)return console.error("No valid els inside addCircleElements"),null;const o=document.createElementNS("http://www.w3.org/2000/svg","g"),{x:i,y:l,width:u,height:s}=e.getBoundingClientRect(),{max:c,min:h}=r,f=c-h;for(let t=0;t<=u;t++){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("stroke",n(h+t*f/u)),e.setAttribute("x1",t+i),e.setAttribute("y1",l),e.setAttribute("x2",t+i),e.setAttribute("y2",s+l),o.appendChild(e)}return a.appendChild(o),this},remove:function(){a.remove()}}}(this.getWrapper(),"fl-layout-svg-screenshot-container"),zs.addTextElements("#fl-layout-header-container h2"),zs.addTextElements("#fl-layout-header-container h3"),zs.addTextElements("#fl-layout-header-container p"),zs.addTextElements("#fl-layout-footer .flourish-footer-text")}function Ps(){zs.remove(),zs=null}function Bs(t){for(var e in fs=t,hs)void 0===fs[e]&&(fs[e]=hs[e]);return(Qn=document.createElement("style")).id="flourish-page-styles",Qn.type="text/css",document.head.appendChild(Qn),gs.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",gs.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),ms.forEach((function(t,e){gs[t]=vs(t,e)})),xs("header").appendChild(function(){(or=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return ir=document.createElement("h2"),ar=document.createElement("h3"),lr=document.createElement("p"),(ur=document.createElement("div")).className="clearfix",(sr=document.createElement("div")).className="flourish-header-logo-container",or.appendChild(sr),or.appendChild(t),t.appendChild(ir),t.appendChild(ar),or.appendChild(lr),or.appendChild(ur),or}()),xs("footer").appendChild(rs()),gs.primary.outer.style.overflow="hidden",function(){var t=gs.primary.outer;t.style.position="relative",(ds=document.createElement("div")).id="fl-layout-overlay";var e=ds.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",ds.appendChild(n),t.appendChild(ds)}(),{update:us,getWrapper:bs,getSidebar:ws,getSection:xs,getOuterWidth:ks,getInnerWidth:Cs,getOuterHeight:Ts,getInnerHeight:Ms,getPrimaryHeight:Es,getPrimaryWidth:As,getDefaultPrimaryHeight:Ds,getPrimaryScreenReadability:Ss,setHeight:Us,showOverlay:Hs,remToPx:pr,getOverlay:$s,awaitFonts:ps,prepareScreenshotSVG:Ys,clearScreenshotSVG:Ps}}var qs,Os,Rs=25,js=10,Ws=10,Is={};function Xs(t,e,n,r,o,i,a){var l=n-t/2-Ws,u=n+t/2+Ws,s=t/2+Math.min(0,l-o.left)+Math.max(0,u-o.right);return{pos:[s,a],shape:s-js<5?[-s,-15*i,Math.max(js,5-s),-10*i]:s+js>t-5?[Math.min(-10,t-s-5),-10*i,Math.min(js,t-s),-15*i]:[-10,-10*i,js,-10*i]}}function Vs(t,e,n,r,o,i,a){var l=r-e/2-Ws,u=r+e/2+Ws,s=e/2+Math.min(0,l-o.top)+Math.max(0,u-o.bottom);return{pos:[a,s],shape:s-js<5?[-15*i,-s,-10*i,Math.max(js,5-s)]:s+js>e-5?[-10*i,Math.min(-10,e-s-5),-15*i,Math.min(js,e-s)]:[-10*i,-10,-10*i,js]}}function Gs(t,e,n,r,o,i){var a=Is[t](e,n,r,o,i),l=r-Rs-a.pos[0],u=o-Rs-a.pos[1];return{left:l,top:u,right:l+e+50,bottom:u+n+50}}function Zs(t,e,n){var r,o=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)o.setAttribute(r,e[r]);var i=o.style;if(n)for(r in n)i[r]=n[r];return o}function Qs(){return qs||((qs=document.createElement("div")).id="flourish-popup-constrainer",qs.setAttribute("aria-hidden",!0),(Os=qs.style).overflow="hidden",Os.pointerEvents="none",Os.position="absolute",Os.left="0",Os.top="0",Os.margin="0",Os.padding="0",document.body.appendChild(qs),this._resizeConstrainer(),qs)}Is.bottom=function(t,e){return{shape:[-10,-10,js,-10],pos:[t/2,e+Ws]}},Is.top=function(t,e){return{shape:[-10,Ws,js,Ws],pos:[t/2,-10]}},Is.left=function(t,e){return{shape:[Ws,js,Ws,-10],pos:[-10,e/2]}},Is.right=function(t,e){return{shape:[-10,js,-10,-10],pos:[t+Ws,e/2]}},Is.topLeft=function(t,e){return{shape:[15,Ws,Ws,15],pos:[-10,-10]}},Is.bottomLeft=function(t,e){return{shape:[15,-10,Ws,-15],pos:[-10,e+Ws]}},Is.topRight=function(t,e){return{shape:[-15,Ws,-10,15],pos:[t+Ws,-10]}},Is.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+Ws,e+Ws]}},Is.bottomFlexible=function(t,e,n,r,o){return Xs(t,0,n,0,o,1,e+Ws)},Is.topFlexible=function(t,e,n,r,o){return Xs(t,0,n,0,o,-1,-10)},Is.rightFlexible=function(t,e,n,r,o){return Vs(0,e,0,r,o,1,t+Ws)},Is.leftFlexible=function(t,e,n,r,o){return Vs(0,e,0,r,o,-1,-10)};var Js={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function Ks(){for(var t in this.unique_id=function(){let t,e;return"Flourish"in window?(t=window.Flourish,e="__popup_next_unique_id"):(t=window,e="__flourish_popup_next_unique_id"),t[e]?(t[e]+=1,t[e]):t[e]=1e3}(),this.is_visible=!0,this.element=null,Js)this["_"+t]=Js[t];this.handlers={click:[]}}function tc(t){Ks.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var ec in Js)tc(ec);function nc(){return new Ks}Ks.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},Ks.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},Ks.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})),this},Ks.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},Ks.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},Ks.prototype._getElement=function(){var t=this,e=t.element;if(!e){e=t.element=document.createElement("div");var n="flourish-popup-"+t.unique_id;e.className="flourish-popup",e.id=n;var r=e.style;r.display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",e.addEventListener("click",(function(e){t.fire("click",e)}),!1);var o=Zs("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),i=Zs("filter",{id:"dropshadow-"+t.unique_id,height:"130%"});i.appendChild(Zs("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),i.appendChild(Zs("feOffset",{dx:0,dy:2,result:"offsetblur"}));var a=Zs("feComponentTransfer");a.appendChild(Zs("feFuncA",{type:"linear",slope:.2})),i.appendChild(a);var l=Zs("feMerge");i.appendChild(l),l.appendChild(Zs("feMergeNode")),l.appendChild(Zs("feMergeNode",{in:"SourceGraphic"})),o.appendChild(i);var u=Zs("g",{filter:"url(#dropshadow-"+t.unique_id+")",fill:"white",stroke:"none"});u.appendChild(Zs("rect",{x:Rs,y:Rs,rx:5})),u.appendChild(Zs("path")),o.appendChild(u),e.appendChild(o);var s=document.createElement("div");s.className="flourish-popup-content",(r=s.style).position="absolute",r.top=r.left="25px",r.padding="10px",e.appendChild(s),t._getConstrainer().appendChild(e)}return t._resizeConstrainer(),e},Ks.prototype._getConstrainer=Qs,Ks.prototype._resizeConstrainer=function(){qs||Qs.call(this);var t=Os.display;Os.display="none",Os.width=document.documentElement.scrollWidth+"px",Os.height=document.documentElement.scrollHeight+"px",Os.display=t},Ks.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],o=t._container.getBoundingClientRect();n<o.left?n=o.left:n>o.right&&(n=o.right),r<o.top?r=o.top:r>o.bottom&&(r=o.bottom);var i=n-e.left,a=r-e.top,l=t._getElement(),u=l.style,s=l.querySelector(".flourish-popup-svg"),c=s.querySelector("g"),h=c.querySelector("rect"),f=c.querySelector("path"),p=l.querySelector(".flourish-popup-content");u.display="block",p.style.maxWidth=function(e){return t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?e.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),e.width)}(o)+"px",t._inner_html!=t._html&&(p.innerHTML=t._inner_html=t._html);var d,m,g=p.getBoundingClientRect();do{d=Math.ceil(g.width),m=Math.ceil(g.height),u.width=d+50+"px",u.height=m+50+"px",g=p.getBoundingClientRect()}while(d!=Math.ceil(g.width)||m!=Math.ceil(g.height));h.setAttribute("width",d),h.setAttribute("height",m),s.setAttribute("width",d+50),s.setAttribute("height",m+50);for(var _,y,v=null,b=null,w=null,x=1/0,k=1/0,C=0;C<t._directions.length;C++){var T=t._directions[C],M=Gs(T,d,m,n,r,o),E=Math.max(0,Math.floor(o.left)-M.left-15)+Math.max(0,M.right-Math.ceil(o.right)-15),A=Math.max(0,Math.floor(o.top)-M.top-15)+Math.max(0,M.bottom-Math.ceil(o.bottom)-15);if(0==E&&0==A){v=T;break}(E<x||E==x&&A<_)&&(x=E,_=A,b=T),(A<k||A==k&&E<y)&&(k=A,y=E,w=T)}return v?T=v:"horizontal"==t._fallbackFit?T=b:"vertical"==t._fallbackFit?T=w:(console.warn("Popup: failed to point box of size ("+d+", "+m+") at ("+n+", "+r+") within ("+o.left+", "+o.top+", "+o.right+", "+o.bottom+")"),T=t._directions[0]),function(t,e,n,r,o,i,a,l,u,s){var c=Is[t](r,o,l,u,s);e.left=i-Rs-c.pos[0]+"px",e.top=a-Rs-c.pos[1]+"px",n.setAttribute("d","M0,0L"+c.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(c.pos[0]+Rs)+","+(c.pos[1]+Rs)+")")}(T,u,f,d,m,i,a,n,r,o),t}console.error("Popup: cannot draw popup till point() has been specified")},Ks.prototype.hide=function(){return this.is_visible?(this.is_visible=!1,this._getElement().style.display="none",this):this},nc.version="2.1.5";var rc=1,oc={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function ic(){var t=this;for(var e in t.unique_id=rc++,t._is_open=!1,t._onclose=null,oc)t["_"+e]=oc[e]}function ac(t){ic.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var lc in oc)ac(lc);ic.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Panel: could not understand argument");return this},ic.prototype.container=function(t){return t&&(this._container=t),this},ic.prototype.hide=function(){var t=this;if(t._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;st(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",(function(){st(this).style("display",t._is_open?"block":"none")})).on("end",(function(){st(this).style("display","none"),st(t._content).html("")})).select(".flourish-panel-close").style("opacity","0"),st(t._inner).transition().duration(e).style("opacity",0),st(t._content).transition().duration(e/2).style("opacity",0)}(t),t._focusTrap.deactivate(),this},ic.prototype.close=ic.prototype.hide,ic.prototype.draw=function(){var t=this;return t._content.innerHTML=t._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,o="overlay"==t._position,i="top"==t._position||"bottom"==t._position,a="left"==t._position||"right"==t._position,l=100*(t._max_width||1/0)/n,u=100*(t._max_height||1/0)/r,s=100*t._point[1]/r,c="click"==t._vertical_position&&!Flourish.fixed_height,h=o?Math.min(t._width_overlay,l):i?100:Math.min(t._width_side,l),f=o?Math.min(t._height_overlay,u):a?100:Math.min(t._height_side,u),p=o?(100-h)/2:"right"==t._position?100-h:0,d=c?Math.max(1,Math.min(s-f/2,99-f)):(100-f)/2,m=o?d:"bottom"==t._position?100-f:0,g=o?0:h,_=o?0:f,y=o?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-h:0,v=o?s:"bottom"==t._position?100:"top"==t._position?-f:0,b=function(t){var e=t.querySelectorAll("h1, h2, h3, h4, h5, h6");if(e.length>0)return e[0].textContent.trim();var n=t.querySelector(".title, .heading, .panel-title, .popup-title");return n?n.textContent.trim():null}(t._content),w=b?b+" dialog":"Information dialog";st(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",o?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",o?null:"none").attr("aria-label",w),st(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",g+"%").style("height",_+"%").style("left",y+"%").style("top",v+"%").transition().duration(e).style("width",h+"%").style("height",f+"%").style("left",p+"%").style("top",m+"%").on("end",(function(){st(t._inner).style("pointer-events","all").style("width",h+"%").style("height",f+"%").style("left",p+"%").style("top",m+"%")})).on("interrupt",(function(){st(t._inner).style("pointer-events","all").style("width",h+"%").style("height",f+"%").style("left",p+"%").style("top",m+"%")}));var x=a&&c;st(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",(function(){st(this).style("opacity",1)})),st(t._content).select(".flourish-panel-content-inner").style("position",x?"absolute":null).style("top",x?s+"%":null).style("transform",x?"translateY(-50%)":null),st(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0).attr("tabindex",t._closeable?"0":"-1"),t._focusTrap||(t._focusTrap=function(){let t=null,e=null,n=null;const r=document.querySelector(".flourish-panel"),o=document.querySelector(".flourish-panel-inner"),i=o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), [role="button"]');i.length&&(e=i[0],n=i[i.length-1]);function a(t){if("Tab"===t.key||9===t.keyCode){if(0===i.length)return;t.shiftKey&&document.activeElement===e?(t.preventDefault(),n.focus()):t.shiftKey||document.activeElement!==n||(t.preventDefault(),e.focus())}}return{activate:function(){t=document.activeElement,o.addEventListener("keydown",a),setTimeout((()=>{r.focus()}),100)},deactivate:function(){o.removeEventListener("keydown",a);Boolean(document.querySelector(":focus-visible"))&&t&&t.focus()}}}());t._focusTrap.activate(),t._is_open=!0,St()}(t),this},ic.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},ic.prototype.margins=function(){var t={top:0,right:0,bottom:0,left:0};if(this._is_open&&"overlay"!=this._position){var e=this._getElement().getBoundingClientRect();"top"==this._position&&(t.top=e.top+e.height),"right"==this._position&&(t.right=e.left),"bottom"==this._position&&(t.bottom=e.top),"left"==this._position&&(t.left=e.left+e.width)}return t.css=t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px",t},ic.prototype._getElement=function(){var t=this,e="flourish-panel-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-panel",n.role="dialog",n.ariaModal="true",n.tabIndex="-1",n.id=e,n.addEventListener("click",(function(t){t.stopPropagation(),l()})),window.addEventListener("keydown",(function(e){t._is_open&&"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),l())}),!1);var r=n.style;r.position="absolute",r.zIndex="999999",r.pointerEvents="none",r.width="100%",r.height="100%",r.top="0",r.left="0",r.background="rgba(255, 255, 255, 0)";var o=document.createElement("div");o.className="flourish-panel-inner",n.appendChild(o),t._inner=o,function(t){st(t._inner).append("svg").attr("class","flourish-panel-close fl-ignore-svg-download").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).attr("tabindex","-1").attr("role","button").attr("aria-label","Close").on("mouseover",(function(){t._closeable&&(this.style.opacity=.66)})).on("mouseout",(function(){t._closeable&&(this.style.opacity=1)})).on("click",(function(){J.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).on("touch",(function(){J.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).on("keydown",(function(){"Enter"!=J.key&&" "!=J.key||(J.stopPropagation(),J.preventDefault(),t.hide(),t._onclose&&t._onclose())})).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30")}(t),(r=o.style).width="0",r.height="0",r.position="absolute",r.boxSizing="border-box";var i=document.createElement("div");i.className="flourish-panel-shadow",o.appendChild(i);var a=document.createElement("div");a.className="flourish-panel-content",o.appendChild(a),t._content=a,(r=a.style).opacity="0",r.overflowY="auto",r.height="100%",t._container.appendChild(n)}function l(){t.hide(),t._onclose&&t._onclose()}return n};var uc={mode:"popup",locked_id:null,popup_is_custom:!1,popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_custom_accessible:"",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"start",popup_font_size:1,popup_font_family:null,popup_width:18,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h3>Tap or click to explore</h3>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"start",panel_font_size:1.25,panel_font_family:null,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};const sc=/\{\{((?:[^}]|\}[^}])*)\}\}/g;function cc(t){return!(""!==t&&!Number.isNaN(t)&&null!=t)}function hc(t,e){let n={title:null,subtitle:null,main:{}};var r={};const o=e[t._title_key],i=e[t._subtitle_key];if(o){n.title=o;const e=t._column_names[t._title_key];r[e]=!0}if(i){n.subtitle=i;const e=t._column_names[t._subtitle_key];r[e]=!0}const a=Object.keys(t._column_names);a.includes("metadata")&&a.push(a.splice(a.indexOf("metadata"),1)[0]);for(let o=0;o<a.length;o++){const i=a[o];if(t._column_names_hidden.indexOf(i)>-1)continue;if(i==t._title_key)continue;if(i==t._subtitle_key)continue;const l=t._column_names[i];if(Array.isArray(l))l.forEach((function(t,o){r[t]||cc(e[i])||(r[t]=!0,n.main[t]=e[i][o])}));else{if(r[l]||cc(e[i]))continue;r[l]=!0,n.main[l]=e[i]}}return n}function fc(t,e){let n="";var r=t._popup_default_template;const o=_c(t,e);if(t._state.popup_is_custom&&t._state.popup_custom_accessible){const e=t._state.popup_custom_accessible;n=gc(e,t,o)}else if(r){var i={};r.match(sc).forEach((e=>{e.replace(sc,(function(e,r){var a;const l=t._column_names[r];if(Array.isArray(l)){if(0==l.length)return;l.forEach((function(t,e){if(i[t])return;i[t]=!0;const n=o[r][e];Rn(n)||cc(n)||(a=`${t}: ${n}, `)}))}else{const t=o[r];if(Rn(t)||cc(t))return;if(i[l])return;i[l]=!0,a=`${l}: ${t}, `}void 0!==a&&(n+=a)}))}))}else{let e=hc(t,o);for(var a in e.title&&(n+=`${e.title}, `),e.subtitle&&(n+=`${e.subtitle}, `),e.main){const t=e.main[a];cc(t)||(n+=`${a}: ${t}, `)}}return n=n.replace(/, $/,""),function(t){const e=document.createElement("div");return e.innerHTML=t,e.innerText}(n)}function pc(t,e,n){var r="<div class='flourish-panel-content-inner'>",o=t["_"+n+"_default_template"],i=t._state[n+"_list_type"],a=t._state[n+"_list_separator"],l="<br />"===a,u=l?"":a,s=l?a:"";if(o)r+=o.replace(sc,(function(n,r){var o,i=t._column_names[r];if(Array.isArray(i)){if(0==i.length)return"";o="<ul>",i.forEach((function(t,n){o+="<li>"+t+a+e[r][n]+"</li>"})),o+="</ul>"}else o=e[r];return void 0!==o?o:""}));else{let n=hc(t,e);if((n.title||n.subtitle)&&(r+="<header>",n.title&&(r+=`<h3>${n.title}</h3>`),n.subtitle&&(r+=`<h4>${n.subtitle}</h4>`),r+="</header>"),Object.keys(n.main).length){let t="";for(var c in n.main){const e=n.main[c];"table"==i?(t+="<tr><td class='table-col-label'><span class='data-heading'>",t+=c+"</span></td><td class='table-col-value'>",t+=e+"</td></tr>"):"ul"==i&&(t+="<li><span class='data-heading'>"+c+u,t+=" </span> "+s+e+"</li>")}r+="<div class='main-content'><"+i+">",r+=t,r+="</"+i+"></div></div>"}}return r}function dc(t,e,n){var r;return Object.keys(t._column_names).some((function(o){if(Array.isArray(t._column_names[o])){var i=t._column_names[o].indexOf(e);if(i>=0)return r=n[o][i],!0}else if(t._column_names[o]==e)return r=n[o],!0})),void 0!==r?r:""}function mc(t,e,n){var r="";const o="popup"===n?t._state.popup_custom_header:t._state.panel_custom_header,i="popup"===n?t._state.popup_custom_main:t._state.panel_custom_main;var a=gc(o,t,e),l=gc(i,t,e);return a&&(r+="<header>"+a+"</header>"),l&&(r+="<div class='main-content'>"+l+"</div>"),r}function gc(t,e,n){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,(function(t,r,o){return""==dc(e,r,n)?"":o})).replace(/\{\{(visualisation|story)\/(.*)\}\}/g,(function(t,e,n){var r=n.split("/");if(r.length<1||!["visualisation","story"].includes(e))return t;var o,i={id:r[0],w:r[1]||"100%",h:r[2]||"400px%"},l="https://flo.uri.sh/"+e+"/"+i.id+"/embed?";return(o="iframe",st(a(o).call(document.documentElement))).attr("src",l).attr("title","Interactive or visual content").attr("class","flourish-embed-iframe").attr("frameborder","0").attr("scrolling","no").attr("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation").style("width",i.width).style("height",i.height).node().outerHTML})).replace(sc,(function(t,r){return dc(e,r,n)})).trim()}function _c(t,e){var n=t._formatters,r={};for(var o in e)if(n&&n[o])if(Array.isArray(n[o])){for(var i=[],a=0;a<n[o].length;a++){let t;t=cc(e[o][a])?"":n[o][a](e[o][a]),i.push(t)}r[o]=i}else{if(cc(e[o]))continue;r[o]=cc(e[o])?"":n[o](e[o])}else r[o]=cc(e[o])?"":e[o];return r}function yc(t,e,n){var r="",o=_c(t,e);return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=mc(t,o,"popup"):r+=pc(t,o,"popup"),r}function vc(t,e){var n="",r=_c(t,e);return t._state.panel_is_custom?n+=mc(t,r,"panel"):n+=pc(t,r,"panel"),n}function bc(){return this.declarations=[],this}function wc(t){return this.selector=t,this.styles=[],this}function xc(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.fontFamily=t._state.popup_font_family?.name||null,n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",(function(){event.stopPropagation()}));var r=t.panel._getElement(),o=r.querySelector(".flourish-panel-inner"),i=r.querySelector(".flourish-panel-content"),a=kn(t._state.panel_background);o.style.background="rgba("+a.r+","+a.g+","+a.b+","+t._state.panel_background_opacity+")",o.style.borderRadius=t._state.popup_radius+"rem",o.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",o.addEventListener("click",(function(){event.stopPropagation()})),i.style.padding=t._state.panel_padding+"rem",i.style.textAlign=t._state.panel_align,i.style.color=t._state.panel_text_color,i.style.fontSize=t._state.panel_font_size+"rem",i.style.fontFamily=t._state.panel_font_family?.name||null,i.style.boxSizing="border-box";var l=e.querySelector(".flourish-popup-svg g");l.style.fill=t._state.popup_background,l.style.opacity=t._state.popup_background_opacity;var u=r.querySelector(".flourish-panel-close path");u&&(u.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?l.removeAttribute("filter"):l.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),l.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),l.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){if(!document.querySelector("#popup-styles")){var e=document.createElement("style");e.id="popup-styles",document.head.appendChild(e)}var n=new bc,r="block"==t._state.popup_header_type,o=kn(t._state.popup_header_background||"transparent");o.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var i=t._state.panel_position;n.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=i&&t._state.panel_shadow?"block":"none").style("top","bottom"==i?"-3rem":"top"==i?"auto":0).style("right","left"==i?"-3rem":"right"==i?"auto":0).style("bottom","top"==i?"-3rem":"bottom"==i?"auto":0).style("left","right"==i?"-3rem":"left"==i?"auto":0).style("width","left"==i||"right"==i?"3rem":"100%").style("height","top"==i||"bottom"==i?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),n.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==i||"right"==i?"1.5rem":"100%").style("height","top"==i||"bottom"==i?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==i?"-50%":"top"==i?"auto":0).style("left","left"==i?"-50%":"right"==i?"auto":0).style("top","top"==i?"-50%":"bottom"==i?"auto":0).style("right","right"==i?"-50%":"left"==i?"auto":0).style("filter","blur(15px)"),n.select(".flourish-panel-inner:focus-visible").style("outline","none !important"),n.select(".flourish-panel:focus-visible").style("outline","none !important"),n.select(".flourish-panel-close:focus").style("outline","none"),n.select(".flourish-panel-close:focus-visible").style("outline","-webkit-focus-ring-color auto 5px"),n.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),n.select(".flourish-popup header, .flourish-panel header").style("margin","0"),n.select(".flourish-popup header").style("font-weight","bold").style("color",r?t._state.popup_header_text_color:null).style("background",r?o.rgb():null).style("padding",t._state.popup_padding+"rem").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),n.select(".flourish-popup header:not(:last-child)").style("padding-bottom",r?null:"0"),n.select(".flourish-popup header:not(:last-child)").style("padding-bottom",r?null:"0"),n.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),n.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),n.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),n.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",r?null:"0"),n.select(".flourish-popup h3, .flourish-panel h3").style("font-size","1em").style("margin","0"),n.select(".flourish-popup h3, .flourish-popup h4, .flourish-popup ul li").style("text-align",t._state.popup_align),n.select(".flourish-panel h3, .flourish-panel h4, .flourish-panel ul li").style("text-align",t._state.panel_align),n.select(".flourish-popup h4, .flourish-panel h4").style("font-size","1em").style("margin",r?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),n.select(".flourish-popup h4:empty, .flourish-panel h4:empty, .flourish-popup h3:empty, .flourish-panel h3:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),n.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),n.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),n.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),n.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),n.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em").style("vertical-align","top").style("font-size","inherit").style("text-align","start").style("font-weight","normal").style("overflow","hidden").style("text-overflow","ellipsis"),n.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),n.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight).style("display","inline-block"),n.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight).style("display","inline-block"),n.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","end").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em"),n.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),n.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style-type","none"),t._state.popup_is_custom&&(console.log("is custom",t._state.popup_is_custom),n.select(".flourish-popup ul, .flourish-panel ul, .flourish-popup ol").style("padding-inline-start","1.5em").style("padding-inline-end","0.5em"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("list-style-type","disc"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style-position","outside"),n.select(".flourish-popup ol li").style("padding-inline-start","0.5em")),document.head.querySelector("#popup-styles").innerHTML=n.print()}(t)}function kc(t,e,n){var r=this;for(var o in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._column_names=[],this._column_names_hidden=[],this._formatters=null,this._getLockedPosition=function(){return null},uc)null==t[o]&&(t[o]=uc[o]);this.panel=(new ic).container(this._panel_container).on("close",(function(){r._state.locked_id=null,r.popup.hide(),"function"==typeof r._on_panel_close&&r._on_panel_close()})),this.popup=nc().container(this._popup_container).point(0,0).draw().hide()}function Cc(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function Tc(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}function Mc(t){return t||0===t}let Ec,Ac,Sc,Fc,Dc,Nc,Lc,Uc,Hc,$c,zc,Yc,Pc;function Bc(t){const e=t.key,n=t.shiftKey;Ec="Tab"===e,Ac=" "===e,Sc="Enter"===e,Dc="Escape"===e,Fc=n;const r=Fc&&Ec,o=!$c;if(!Fc&&Ec){Wc()&&t.preventDefault()}else r&&o&&jc()}function qc(t){const e=t.key,n=t.shiftKey;cancelAnimationFrame(zc),zc=requestAnimationFrame((()=>{Ec=Ec&&"Tab"!==e,Ac=Ac&&" "!==e,Sc=Sc&&"Enter"!==e,Dc=Dc&&"Escape"!==e,Fc=Fc&&n}))}function Oc(t){Wc()&&t.preventDefault()}function Rc(t){if(!Ec)return;const e=$c&&$c.node(),n=t.relatedTarget;if(!Hc||!e)return;!e.contains(n)&&e!==n&&Ic()}function jc(){if(!Hc)return;const t=Pc;!Fc&&Ec||Ac||Sc||Dc?Ic():(Xc(Hc),Vc(null,null)),t&&t()}function Wc(){if(Lc){const t=Zc(Lc);if(t)return $c=Lc,Lc=null,t}return null}function Ic(){if(Hc){const t=Uc,e=Zc(Hc);return Hc=null,$c=null,Uc=null,t&&t(),e}return null}function Xc(t){Lc=t}function Vc(t,e){Hc=t,Uc=e}function Gc(t,e,n){t?(Xc(t),Vc(e,n)):(Xc(null),Vc(null,null))}function Zc(t){if(!t)return null;const e=function(t){const e='a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';return t.node().matches(e)?t:t.select(e)}(t);return e.node()?(cancelAnimationFrame(Yc),Yc=requestAnimationFrame((()=>{e.node().focus({focusVisible:!0})})),e):null}var Qc,Jc,Kc,th,eh,nh,rh,oh;bc.prototype.select=function(t){if(!t)return this;var e=new wc(t);return e.parent=this,this.addDeclaration(e),e},bc.prototype.addDeclaration=function(t){return this.declarations.push(t),this},bc.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},bc.prototype.clear=function(){return this.declarations=[],this},wc.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},wc.prototype.select=function(t){return this.parent.select(this.selector+" "+t)},kc.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},kc.prototype.update=function(t){if(null!==this._state.locked_id&&"none"!=this._state.mode){var e=this._getLockedPosition(this._state.locked_id);e?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function")}else this.clickout()},kc.prototype.click=function(t,e,n,r){if("none"!=this._state.mode){var o="popup"==this._state.mode?"popup":"panel";this._checkIfPopupIsEmpty(e,o)?"panel"===o?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,Tc(this)):this._state.locked_id=null,"panel"==o?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==o&&(this.panel.hide(),this._drawPopup(e,r)))}},kc.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide()),"none"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},kc.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},kc.prototype.mouseover=function(t,e,n,r,o){var i="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,i,"both"==this._state.mode))"panel"===i?this.hidePanel():this.hidePopup();else{var a=this;if("both"==this._state.mode)if(this._point(t),this._drawPopup(e,n,!0),r?Tc(this):Cc(this),r)a.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){a.click(t,e,o,n)};if("popup"==this._state.mode){if(null!==this._state.locked_id)return;Cc(this),this._point(t),this._drawPopup(e,n)}if("panel"==this._state.mode){if(null!==this._state.locked_id||"overlay"==this._state.panel_position)return;if(!this._state.panel_side_fixed)return;clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n)}}},kc.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}if("panel"==this._state.mode){if(null!==this._state.locked_id)return;if("overlay"==this._state.panel_position||!this._state.panel_side_fixed)return;this._showDefaultPanelContent()}},kc.prototype.locked=function(){return this._state.locked_id},kc.prototype.mode=function(){return this._state.mode},kc.prototype.setColumnNames=function(t){return this._column_names=t,this},kc.prototype.hideColumnNames=function(t){return this._column_names_hidden=t,this},kc.prototype.setFormatters=function(t){var e={};for(var n in t)if("function"==typeof t[n])e[n]=t[n];else if(Array.isArray(t[n])){for(var r=[],o=0;o<t[n].length;o++){var i;i="function"==typeof t[n][o]?t[n][o]:qu(t[n][o].output_format_id),r.push(i)}e[n]=r}else e[n]=qu(t[n].output_format_id);return this._formatters=e,this},kc.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout((function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()}),100),t._drawPanel()},kc.prototype._checkIfPopupIsEmpty=function(t,e,n){if(this._state.popup_is_custom)return""===("panel"===e?vc(this,t):yc(this,t,n)).trim();if(Mc(t[this._title_key]))return!1;for(var r=Object.keys(this._column_names),o=0;o<r.length;o++){var i=r[o];if(!this._column_names_hidden.includes(i)){var a=t[i];if(Array.isArray(a)){for(let t=0;t<a.length;t++)if(Mc(a[t]))return!1}else if(Mc(a))return!1}}return!0},kc.prototype.getAccessiblePopupContent=function(t){return fc(this,t)},kc.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},kc.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(yc(this,t,n)),xc(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},kc.prototype._drawPanel=function(t,e){return xc(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),void 0===t?this.panel.draw():this.panel.html(vc(this,t)).draw(),e&&e(this.panel._getElement(),t),this},kc.prototype.hidePanel=function(){return this.panel.hide(),this},kc.prototype.hidePopup=function(){return this.popup.hide(),this},kc.prototype.popupDirections=function(t){return t?(this._popup_directions=t,this):this._popup_directions.slice()},kc.prototype.margins=function(){return this.panel.margins()},kc.prototype._getBiggestGap=function(t){var e,n,r=this._popup_container.getBoundingClientRect(),o=0,i={right:(r.width+r.left-(t.width+t.left))/r.width,bottom:(r.height+r.top-(t.height+t.top))/r.height,left:(t.left-r.left)/r.width,top:(t.top-r.top)/r.height},a={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(var l in i)this._popup_directions.indexOf(l)<0||i[l]>o&&(o=i[l],e=l,n=a[l]);var u=t.left,s=t.top;return"left"==e||"right"==e?s+=.5*t.height:"bottom"==e&&(s+=t.height),"top"==e||"bottom"==e?u+=.5*t.width:"right"==e&&(u+=t.width),{side:e,arrow_directions:n,x:u,y:s}},kc.prototype._point=function(t){var e,n,r=this._popup_directions;if(Array.isArray(t))e=t[0],n=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var o=t.getBoundingClientRect(),i=this._getBiggestGap(o);e=i.x,n=i.y,r=i.arrow_directions}return this.panel.point(t),this.popup.directions(r).point(e,n),this},kc.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},kc.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},kc.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key},kc.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key};var ih={},ah={},lh={layout:{screenreader_hide_primary:!1},popup:{mode:"none"},svg_url:Flourish.static_prefix+"/example.svg",svg_width_wide:60,svg_reset_fonts:!0,stylesheet:".clickable-element.faded {\n  opacity: 0.4 \n}\n\n.clickable-element.highlighted {\n  \n}\n\n.text-block {\n   \n}\n\n.accordion {\n  \n}\n\n.accordion.hidden {\n  \n}\n\n.accordion.highlighted {\n  \n}",mobile_view:!0,mobile_breakpoint:500,mobile_svg_mode:"same",mobile_svg_url:"",mobile_svg_width:60,mobile_content_mode:"all",clickable_svg_animation:"animation",clickable_svg_animation_attr:"opacity",clickable_svg_animation_duration:1,clickable_svg_animation_values:"1;0.33;1;1;1;1;1;1;1;1;1",clickable_svg_animation_repeat:"indefinite",highlighted:null,text_panel_enabled:!0,text_margin_left:1.5,h3_default:"Hello there!",h3_size:2,h3_weight:700,h3_line_height:1.1,h4_default:"Why not click on a circle?",h4_size:1.5,h4_weight:400,h4_line_height:1.1,content_default:"This template allows you to turn an SVG image into a piece of interactive content.",content_size:1};const uh="preview"===Flourish.environment||"live"===Flourish.environment,sh="QNFTMGPXLK";function ch(){return!lh.mobile_view||Qc.getPrimaryWidth()>=lh.mobile_breakpoint}function hh(){return ch()?lh.svg_width_wide:lh.mobile_svg_width}function fh(){return lh.text_panel_enabled?ch()?"calc("+(100-hh())+"% - "+lh.text_margin_left+"rem":"100%":0}function ph(){return lh.text_panel_enabled?ch()?lh.text_margin_left+"rem":null:0}function dh(t){return t.replace(/\s/g,"")}function mh(){return ch()||"interactive"==lh.mobile_content_mode?xh():function(){for(var t="",e=0;e<ah.data.length;e++)t+=xh(ah.data[e].id,lh.mobile_content_mode);return t}()}function gh(){return ch()||"interactive"==lh.mobile_content_mode}function _h(){return!ch()&&"accordion"==lh.mobile_content_mode}function yh(t){const e=`<p><b>${t}</b><br>will open when this project is published</p>`,n=document.getElementById(sh);var r,o;n.innerHTML=e,n.style.backgroundColor=(r=lh.layout.background_color,!!(o=br(r,.75))&&o.toString()),xr(lh.layout.background_color)?n.classList.remove("light"):n.classList.add("light"),n.classList.add("visible"),setTimeout((()=>n.classList.remove("visible")))}function vh(t,e,n){const r=e.link;r&&Rn(r)?(uh?window.open(r,"_blank"):yh(r),lh.highlighted=null):(lh.highlighted=t.id,n?Jc.touch(t,e,t.id):Jc.click(t,e,t.id)),lh.text_panel_enabled?Gc(nh,st(t),(()=>{Ch()})):Gc(null),Eh()}function bh(t,e){var n=gh(),r=t==lh.highlighted,o=ih[t],i=st("#"+t).style("cursor",n?"pointer":null).classed("clickable-element",!0).classed("highlighted",n?r:null).classed("faded",n&&lh.highlighted&&!r).attr("tabindex","0").attr("role","img").attr("aria-label",(function(){return Jc.getAccessiblePopupContent(o)})).on("mouseover focus",(function(){Jc.mouseover(this,o)})).on("mouseout blur",(function(){Jc.mouseout()})).on("touch",n?function(){J.stopPropagation(),vh(this,o,!0)}:null).on("click",n?function(){J.stopPropagation(),vh(this,o)}:null).on("keydown",n?function(){"Enter"!=J.key&&" "!=J.key||vh(this,o)}:null),a="animation"==lh.clickable_svg_animation&&n&&!lh.highlighted;i.selectAll("animate").remove();var l=i.selectAll("animate").data(a?[!0]:[]),u=l.enter().append("animate");l.merge(u).attr("begin",e*lh.clickable_svg_animation_duration+"s").attr("attributeName",lh.clickable_svg_animation_attr).attr("values",lh.clickable_svg_animation_values).attr("dur",lh.clickable_svg_animation_duration*ah.data.length).attr("repeatCount",lh.clickable_svg_animation_repeat),l.exit().remove()}function wh(t,e,n){if(t){var r=e==lh.highlighted;st("#"+t).style("pointer-events","none").attr("role","img").style("opacity",r?1:0)}}function xh(t){var e="",n="",r="";void 0===t?(e=lh.h3_default,n=lh.h4_default,r=lh.content_default):ih[t]&&(e=ih[t].h3||"",n=ih[t].h4||"",r=ih[t].content||"");var o="";_h()&&(o+=" accordion",t==lh.highlighted?o+=" highlighted":o+=" hidden");var i="<div data-target='"+t+"' class='text-block"+o+"'>";return i+="<h3 style='font-size:"+lh.h3_size+"rem; font-weight: "+lh.h3_weight+"; line-height: "+lh.h3_line_height+"em;'>"+e+"</h3>",i+="<h4 style='font-size:"+lh.h4_size+"rem; font-weight: "+lh.h4_weight+"; line-height: "+lh.h4_line_height+"em;'>"+n+"</h4>",i+="<div class='content' style='font-size:"+lh.content_size+"rem'>"+r+"</div>",i+="</div>"}function kh(){var t;!function(){ih={};for(var t=0;t<ah.data.length;t++){var e=ah.data[t];e.id=dh(e.id),"#"==e.id.charAt(0)&&(e.id=e.id.substring(1)),e.reveal_id&&(e.reveal_id=dh(e.reveal_id),"#"==e.reveal_id.charAt(0)&&(e.reveal_id=e.reveal_id.substring(1))),ih[e.id]=e}}(),Qc.update(),Jc.setColumnNames(ah.data.column_names).hideColumnNames(["id","reveal_id","link","h3","h4","content"]).update(),function(){var t;if(oh=1,th.style("width",hh()+"%").style("display",ch()||"none"!=lh.mobile_svg_mode?null:"none").select("svg").each((function(){var t=this.getAttribute("viewBox"),e=this.getAttribute("width"),n=this.getAttribute("height");if(!t&&e&&n)st(this).attr("viewBox","0 0 "+e+" "+n),oh=n/e;else if(t){var r=t.split(" ");oh=r[3]/r[2]}})).attr("width",null).attr("height",null).style("width","100%").style("height",(function(){return(t=this.getBoundingClientRect().width*oh)+"px"})).style("margin",0).selectAll("*").attr("id",(function(){return dh(this.id)})).each((function(){lh.svg_reset_fonts&&this&&this.style&&st(this).style("font-family",null).attr("font-family",null)})),Flourish.fixed_height){var e=Qc.getPrimaryHeight(),n=(e-t)/2,r=n<0?"auto":0;th.select("svg").style("width",n<0&&ch()?e/oh+"px":"100%").style("height",n<0&&ch()?e+"px":"auto").style("margin",ch()?Math.max(0,n)+"px "+r:"0px "+r)}for(var o=0;o<ah.data.length;o++){var i=ah.data[o];i.id&&(bh(i.id,o),wh(i.reveal_id,i.id))}}(),function(){var t=gh()&&lh.highlighted?xh(lh.highlighted):mh();st("#text-wrapper").style("display",lh.text_panel_enabled?null:"none").style("width",fh).style("padding-left",ph).style("height",Flourish.fixed_height&&ch()?Qc.getPrimaryHeight()+"px":null);try{nh.html(t)}catch(t){if(!t.message.includes("The node to be removed is no longer a child of this node"))throw t}nh.selectAll(".text-block").on("click",(function(){if(_h()){J.stopPropagation();var t=lh.highlighted==this.getAttribute("data-target");lh.highlighted=t?null:this.getAttribute("data-target"),Eh()}}))}(),rh.html(lh.stylesheet),t={wrapper:Kc,onNextFocusContainerDismissed:function(){Ch()}},Nc&&(Nc.node().removeEventListener("keydown",Bc),Nc.node().removeEventListener("keyup",qc),Nc.node().removeEventListener("focusout",Rc),Nc.node().removeEventListener("focusin",Oc)),Nc=t.wrapper,Pc=t.onNextFocusContainerDismissed,Nc.node().addEventListener("keydown",Bc),Nc.node().addEventListener("keyup",qc),Nc.node().addEventListener("focusout",Rc),Nc.node().addEventListener("focusin",Oc),Kc.style("height",Flourish.fixed_height?Qc.getPrimaryHeight()+"px":"auto").style("overflow-y",ch()?"hidden":"auto").on("keydown",gh()?function(){"Escape"===J.key&&(jc(),Ch())}:null),Flourish.fixed_height||Qc.setHeight(Kc.node().getBoundingClientRect().height)}function Ch(){Jc.clickout(),lh.highlighted=null,Eh()}var Th=null,Mh=null;function Eh(){var t=ch()||"different"==!lh.mobile_svg_mode?lh.svg_url:lh.mobile_svg_url||lh.svg_url;if(t!=Th){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(Mh=e.responseText,th.html(Mh),kh())},e.open("GET",t,!0),e.send()}else kh();Th=t}function Ah(){kh()}function Sh(t){const e=st("#"+t).node();return e?[e,ih[t]]:null}return Qc=Bs(lh.layout),Jc=function(t,e,n){return new kc(t,e,n)}(lh.popup),Jc.getLockedPosition(Sh).titleKey("h3").subtitleKey("h4"),t.data=ah,t.draw=function(){(Kc=st(Qc.getSection("primary")).append("div").attr("class","wrapper")).append("div").attr("id",sh),th=Kc.append("div").attr("id","svg-container"),eh=Kc.append("div").attr("id","text-wrapper"),nh=eh.append("div").attr("id","text-container"),rh=st("head").append("style"),st("body").on("click",(function(){jc(),Ch()})),window.onresize=Ah,Qc.awaitFonts(Eh)},t.state=lh,t.update=Eh,t}({});
//# sourceMappingURL=template.js.map
</script><script>!function(){"use strict";var e=!1;function t(t){if(e&&window.top!==window.self){var n=window;"srcdoc"===n.location.pathname&&(n=n.parent);var o,i=(o={},window._Flourish_template_id&&(o.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(o.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(o.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(o.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(o.story_id=window.Flourish.app.story.id,o.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(o.slide_index=window.Flourish.app.current_slide.index+1),o),r={sender:"Flourish",method:"customerAnalytics"};for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);n.parent.postMessage(JSON.stringify(r),"*")}}function n(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function o(){e=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach((function(e){document.body.addEventListener(e.event_name,(function(){t({action:e.action_name})}),e.use_capture)}))}
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:i,setPrototypeOf:r,isFrozen:a,getPrototypeOf:l,getOwnPropertyDescriptor:s}=Object;let{freeze:c,seal:u,create:d}=Object,{apply:m,construct:p}="undefined"!=typeof Reflect&&Reflect;c||(c=function(e){return e}),u||(u=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});const f=R(Array.prototype.forEach),h=R(Array.prototype.lastIndexOf),g=R(Array.prototype.pop),y=R(Array.prototype.push),w=R(Array.prototype.splice),_=R(String.prototype.toLowerCase),v=R(String.prototype.toString),T=R(String.prototype.match),A=R(String.prototype.replace),E=R(String.prototype.indexOf),b=R(String.prototype.trim),S=R(Object.prototype.hasOwnProperty),N=R(RegExp.prototype.test),x=(O=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(O,t)});var O;function R(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return m(e,t,o)}}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;r&&r(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(a(t)||(t[o]=e),i=e)}e[i]=!0}return e}function C(e){for(let t=0;t<e.length;t++){S(e,t)||(e[t]=null)}return e}function M(e){const t=d(null);for(const[n,o]of i(e)){S(e,n)&&(Array.isArray(o)?t[n]=C(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=M(o):t[n]=o)}return t}function k(e,t){for(;null!==e;){const n=s(e,t);if(n){if(n.get)return R(n.get);if("function"==typeof n.value)return R(n.value)}e=l(e)}return function(){return null}}const D=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=c(["#text"]),W=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B=c(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=u(/<%[\w\W]*|[\w\W]*%>/gm),$=u(/\$\{[\w\W]*/gm),X=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),J=u(/^aria-[\-\w]+$/),V=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=u(/^(?:\w+script|data):/i),Z=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=u(/^html$/i),ee=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var te=Object.freeze({__proto__:null,ARIA_ATTR:J,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:ee,DATA_ATTR:X,DOCTYPE_NAME:Q,ERB_EXPR:Y,IS_ALLOWED_URI:V,IS_SCRIPT_OR_DATA:K,MUSTACHE_EXPR:q,TMPLIT_EXPR:$});const ne=1,oe=3,ie=7,re=8,ae=9,le=function(){return"undefined"==typeof window?null:window},se=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var ce,ue,de=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==ae||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:u,Element:m,NodeFilter:p,NamedNodeMap:O=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:R,DOMParser:C,trustedTypes:q}=t,Y=m.prototype,$=k(Y,"cloneNode"),X=k(Y,"remove"),J=k(Y,"nextSibling"),K=k(Y,"childNodes"),Z=k(Y,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ee,ce="";const{implementation:ue,createNodeIterator:de,createDocumentFragment:me,getElementsByTagName:pe}=o,{importNode:fe}=r;let he={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof i&&"function"==typeof Z&&ue&&void 0!==ue.createHTMLDocument;const{MUSTACHE_EXPR:ge,ERB_EXPR:ye,TMPLIT_EXPR:we,DATA_ATTR:_e,ARIA_ATTR:ve,IS_SCRIPT_OR_DATA:Te,ATTR_WHITESPACE:Ae,CUSTOM_ELEMENT:Ee}=te;let{IS_ALLOWED_URI:be}=te,Se=null;const Ne=L({},[...D,...F,...I,...P,...H]);let xe=null;const Oe=L({},[...W,...B,...G,...j]);let Re=Object.seal(d(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Le=null,Ce=null,Me=!0,ke=!0,De=!1,Fe=!0,Ie=!1,ze=!0,Pe=!1,Ue=!1,He=!1,We=!1,Be=!1,Ge=!1,je=!0,qe=!1;const Ye="user-content-";let $e=!0,Xe=!1,Je={},Ve=null;const Ke=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ze=null;const Qe=L({},["audio","video","img","source","image","track"]);let et=null;const tt=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",ot="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml";let rt=it,at=!1,lt=null;const st=L({},[nt,ot,it],v);let ct=L({},["mi","mo","mn","ms","mtext"]),ut=L({},["annotation-xml"]);const dt=L({},["title","style","font","a","script"]);let mt=null;const pt=["application/xhtml+xml","text/html"],ft="text/html";let ht=null,gt=null;const yt=o.createElement("form"),wt=function(e){return e instanceof RegExp||e instanceof Function},_t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!gt||gt!==e){if(e&&"object"==typeof e||(e={}),e=M(e),mt=-1===pt.indexOf(e.PARSER_MEDIA_TYPE)?ft:e.PARSER_MEDIA_TYPE,ht="application/xhtml+xml"===mt?v:_,Se=S(e,"ALLOWED_TAGS")?L({},e.ALLOWED_TAGS,ht):Ne,xe=S(e,"ALLOWED_ATTR")?L({},e.ALLOWED_ATTR,ht):Oe,lt=S(e,"ALLOWED_NAMESPACES")?L({},e.ALLOWED_NAMESPACES,v):st,et=S(e,"ADD_URI_SAFE_ATTR")?L(M(tt),e.ADD_URI_SAFE_ATTR,ht):tt,Ze=S(e,"ADD_DATA_URI_TAGS")?L(M(Qe),e.ADD_DATA_URI_TAGS,ht):Qe,Ve=S(e,"FORBID_CONTENTS")?L({},e.FORBID_CONTENTS,ht):Ke,Le=S(e,"FORBID_TAGS")?L({},e.FORBID_TAGS,ht):{},Ce=S(e,"FORBID_ATTR")?L({},e.FORBID_ATTR,ht):{},Je=!!S(e,"USE_PROFILES")&&e.USE_PROFILES,Me=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,De=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,ze=!1!==e.SAFE_FOR_XML,Pe=e.WHOLE_DOCUMENT||!1,We=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,Ge=e.RETURN_TRUSTED_TYPE||!1,He=e.FORCE_BODY||!1,je=!1!==e.SANITIZE_DOM,qe=e.SANITIZE_NAMED_PROPS||!1,$e=!1!==e.KEEP_CONTENT,Xe=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||V,rt=e.NAMESPACE||it,ct=e.MATHML_TEXT_INTEGRATION_POINTS||ct,ut=e.HTML_INTEGRATION_POINTS||ut,Re=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&wt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&wt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Re.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(ke=!1),Be&&(We=!0),Je&&(Se=L({},H),xe=[],!0===Je.html&&(L(Se,D),L(xe,W)),!0===Je.svg&&(L(Se,F),L(xe,B),L(xe,j)),!0===Je.svgFilters&&(L(Se,I),L(xe,B),L(xe,j)),!0===Je.mathMl&&(L(Se,P),L(xe,G),L(xe,j))),e.ADD_TAGS&&(Se===Ne&&(Se=M(Se)),L(Se,e.ADD_TAGS,ht)),e.ADD_ATTR&&(xe===Oe&&(xe=M(xe)),L(xe,e.ADD_ATTR,ht)),e.ADD_URI_SAFE_ATTR&&L(et,e.ADD_URI_SAFE_ATTR,ht),e.FORBID_CONTENTS&&(Ve===Ke&&(Ve=M(Ve)),L(Ve,e.FORBID_CONTENTS,ht)),$e&&(Se["#text"]=!0),Pe&&L(Se,["html","head","body"]),Se.table&&(L(Se,["tbody"]),delete Le.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,ce=ee.createHTML("")}else void 0===ee&&(ee=se(q,a)),null!==ee&&"string"==typeof ce&&(ce=ee.createHTML(""));c&&c(e),gt=e}},vt=L({},[...F,...I,...z]),Tt=L({},[...P,...U]),At=function(e){let t=Z(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});const n=_(e.tagName),o=_(t.tagName);return!!lt[e.namespaceURI]&&(e.namespaceURI===ot?t.namespaceURI===it?"svg"===n:t.namespaceURI===nt?"svg"===n&&("annotation-xml"===o||ct[o]):Boolean(vt[n]):e.namespaceURI===nt?t.namespaceURI===it?"math"===n:t.namespaceURI===ot?"math"===n&&ut[o]:Boolean(Tt[n]):e.namespaceURI===it?!(t.namespaceURI===ot&&!ut[o])&&(!(t.namespaceURI===nt&&!ct[o])&&(!Tt[n]&&(dt[n]||!vt[n]))):!("application/xhtml+xml"!==mt||!lt[e.namespaceURI]))},Et=function(e){y(n.removed,{element:e});try{Z(e).removeChild(e)}catch(t){X(e)}},bt=function(e,t){try{y(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){y(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(We||Be)try{Et(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},St=function(e){let t=null,n=null;if(He)e="<remove></remove>"+e;else{const t=T(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===mt&&rt===it&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=ee?ee.createHTML(e):e;if(rt===it)try{t=(new C).parseFromString(i,mt)}catch(e){}if(!t||!t.documentElement){t=ue.createDocument(rt,"template",null);try{t.documentElement.innerHTML=at?ce:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),rt===it?pe.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:r},Nt=function(e){return de.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},xt=function(e){return e instanceof R&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof O)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ot=function(e){return"function"==typeof u&&e instanceof u};function Rt(e,t,o){f(e,(e=>{e.call(n,t,o,gt)}))}const Lt=function(e){let t=null;if(Rt(he.beforeSanitizeElements,e,null),xt(e))return Et(e),!0;const o=ht(e.nodeName);if(Rt(he.uponSanitizeElement,e,{tagName:o,allowedTags:Se}),e.hasChildNodes()&&!Ot(e.firstElementChild)&&N(/<[/\w]/g,e.innerHTML)&&N(/<[/\w]/g,e.textContent))return Et(e),!0;if(e.nodeType===ie)return Et(e),!0;if(ze&&e.nodeType===re&&N(/<[/\w]/g,e.data))return Et(e),!0;if(!Se[o]||Le[o]){if(!Le[o]&&Mt(o)){if(Re.tagNameCheck instanceof RegExp&&N(Re.tagNameCheck,o))return!1;if(Re.tagNameCheck instanceof Function&&Re.tagNameCheck(o))return!1}if($e&&!Ve[o]){const t=Z(e)||e.parentNode,n=K(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=$(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,J(e))}}}return Et(e),!0}return e instanceof m&&!At(e)?(Et(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!N(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===oe&&(t=e.textContent,f([ge,ye,we],(e=>{t=A(t,e," ")})),e.textContent!==t&&(y(n.removed,{element:e.cloneNode()}),e.textContent=t)),Rt(he.afterSanitizeElements,e,null),!1):(Et(e),!0)},Ct=function(e,t,n){if(je&&("id"===t||"name"===t)&&(n in o||n in yt))return!1;if(ke&&!Ce[t]&&N(_e,t));else if(Me&&N(ve,t));else if(!xe[t]||Ce[t]){if(!(Mt(e)&&(Re.tagNameCheck instanceof RegExp&&N(Re.tagNameCheck,e)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(e))&&(Re.attributeNameCheck instanceof RegExp&&N(Re.attributeNameCheck,t)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(t))||"is"===t&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&N(Re.tagNameCheck,n)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(n))))return!1}else if(et[t]);else if(N(be,A(n,Ae,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!Ze[e]){if(De&&!N(Te,A(n,Ae,"")));else if(n)return!1}else;return!0},Mt=function(e){return"annotation-xml"!==e&&T(e,Ee)},kt=function(e){Rt(he.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||xt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe,forceKeepAttr:void 0};let i=t.length;for(;i--;){const r=t[i],{name:a,namespaceURI:l,value:s}=r,c=ht(a);let u="value"===a?s:b(s);if(o.attrName=c,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,Rt(he.uponSanitizeAttribute,e,o),u=o.attrValue,!qe||"id"!==c&&"name"!==c||(bt(a,e),u=Ye+u),ze&&N(/((--!?|])>)|<\/(style|title)/i,u)){bt(a,e);continue}if(o.forceKeepAttr)continue;if(bt(a,e),!o.keepAttr)continue;if(!Fe&&N(/\/>/i,u)){bt(a,e);continue}Ie&&f([ge,ye,we],(e=>{u=A(u,e," ")}));const d=ht(e.nodeName);if(Ct(d,c,u)){if(ee&&"object"==typeof q&&"function"==typeof q.getAttributeType)if(l);else switch(q.getAttributeType(d,c)){case"TrustedHTML":u=ee.createHTML(u);break;case"TrustedScriptURL":u=ee.createScriptURL(u)}try{l?e.setAttributeNS(l,a,u):e.setAttribute(a,u),xt(e)?Et(e):g(n.removed)}catch(e){}}}Rt(he.afterSanitizeAttributes,e,null)},Dt=function e(t){let n=null;const o=Nt(t);for(Rt(he.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Rt(he.uponSanitizeShadowNode,n,null),Lt(n),kt(n),n.content instanceof l&&e(n.content);Rt(he.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,a=null,s=null;if(at=!e,at&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ot(e)){if("function"!=typeof e.toString)throw x("toString is not a function");if("string"!=typeof(e=e.toString()))throw x("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ue||_t(t),n.removed=[],"string"==typeof e&&(Xe=!1),Xe){if(e.nodeName){const t=ht(e.nodeName);if(!Se[t]||Le[t])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)o=St("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),i.nodeType===ne&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!We&&!Ie&&!Pe&&-1===e.indexOf("<"))return ee&&Ge?ee.createHTML(e):e;if(o=St(e),!o)return We?null:Ge?ce:""}o&&He&&Et(o.firstChild);const c=Nt(Xe?e:o);for(;a=c.nextNode();)Lt(a),kt(a),a.content instanceof l&&Dt(a.content);if(Xe)return e;if(We){if(Be)for(s=me.call(o.ownerDocument);o.firstChild;)s.appendChild(o.firstChild);else s=o;return(xe.shadowroot||xe.shadowrootmode)&&(s=fe.call(r,s,!0)),s}let d=Pe?o.outerHTML:o.innerHTML;return Pe&&Se["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&N(Q,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),Ie&&f([ge,ye,we],(e=>{d=A(d,e," ")})),ee&&Ge?ee.createHTML(d):d},n.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_t(e),Ue=!0},n.clearConfig=function(){gt=null,Ue=!1},n.isValidAttribute=function(e,t,n){gt||_t({});const o=ht(e),i=ht(t);return Ct(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&y(he[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=h(he[e],t);return-1===n?void 0:w(he[e],n,1)[0]}return g(he[e])},n.removeHooks=function(e){he[e]=[]},n.removeAllHooks=function(){he={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function me(){if(null==ce){var e=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,n,o){for(;o=n.exec(e);)t[decodeURIComponent(o[1])]=decodeURIComponent(o[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();ce="referrer"in e?/^https:\/\/medium.com\//.test(e.referrer):!("auto"in e)}return ce}function pe(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function fe(e){if(e&&window.top!==window.self){var t=window;"srcdoc"==t.location.pathname&&(t=t.parent);var n={sender:"Flourish",method:"scrolly",captions:e.captions,hasScrollyTransformFix:e.hasScrollyTransformFix};t.parent.postMessage(JSON.stringify(n),"*")}}function he(e,t){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),ue)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var o={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(t)for(var i in t)o[i]=t[i];n.parent.postMessage(JSON.stringify(o),"*")}}function ge(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function ye(e){return"string"==typeof e||e instanceof String}function we(e){return"warn"!==e.method?(console.warn("BUG: validateWarnMessage called for method"+e.method),!1):!(null!=e.message&&!ye(e.message))&&!(null!=e.explanation&&!ye(e.explanation))}function _e(e){return"resize"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!ye(e.src)&&(!!ye(e.context)&&!!("number"==typeof(t=e.height)?!isNaN(t)&&t>=0:ye(t)&&/\d/.test(t)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(t)));var t}function ve(e){throw new Error("Validation for setSetting is not implemented yet; see issue #4328")}function Te(e){return"scrolly"!==e.method?(console.warn("BUG: validateScrolly called for method"+e.method),!1):!!Array.isArray(e.captions)}function Ae(e){return"customerAnalytics"===e.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+e.method),!1)}function Ee(e){return"request-upload"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!ye(e.name)&&!(null!=e.accept&&!ye(e.accept))}function be(e,t,n){var o=function(e){for(var t={warn:we,resize:_e,setSetting:ve,customerAnalytics:Ae,"request-upload":Ee,scrolly:Te},n={},o=0;o<e.length;o++){var i=e[o];if(!t[i])throw new Error("No validator found for method "+i);n[i]=t[i]}return n}(t);window.addEventListener("message",(function(t){var i=function(){if(t.origin==document.location.origin)return!0;if(n){const e=t.origin.toLowerCase();if(n=n.toLowerCase(),e.endsWith("//"+n))return!0;if(e.endsWith("."+n))return!0}return!!t.origin.match(/\/\/localhost:\d+$|\/\/(?:public|app)\.local\.flourish-internal\.com$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/)}();if(null!=t.source&&i){var r;try{r="object"==typeof t.data?t.data:JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===r.sender)if(r.method)if(Object.prototype.hasOwnProperty.call(o,r.method))if(o[r.method](r)){for(var a=document.querySelectorAll("iframe"),l=0;l<a.length;l++)if(a[l].contentWindow==t.source||a[l].contentWindow==t.source.parent)return void e(r,a[l]);console.warn("could not find frame",r)}else console.warn("Validation failed for the message",r);else console.warn("No validator implemented for message",r);else console.warn("The 'method' property was missing from message",r)}})),ge()&&(window.addEventListener("resize",Se),Se())}function Se(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var n=e[t];if(!n.getAttribute("data-width")){var o=n.querySelector("iframe");if(o){var i=window.getComputedStyle(n),r=n.offsetWidth-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight);o.style.width=r+"px"}}}}function Ne(e,t,n){var o=e.parentNode;if(o.classList.contains("fl-scrolly-wrapper"))return void console.warn("createScrolly is being called more than once per story. This should not happen.");o.classList.add("fl-scrolly-wrapper"),o.style.position="relative",o.style.paddingBottom="1px",o.style.transform="translate3d(0, 0, 0)";const i=navigator.platform.indexOf("Win")>-1,r=!!window.chrome&&(navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Edg")>-1||navigator.userAgent.indexOf("OPR")>-1);if(i&&r&&n){let e,t=0;window.addEventListener("scroll",(function(){clearTimeout(e),e=setTimeout((()=>{t=0===t?1:0,o.style.transform=`translateZ(${t}px)`}),100)}))}e.style.position="sticky";var a=o.getAttribute("data-height")||null;a||(a="80vh",e.style.height=a),e.style.top="calc(50vh - "+a+"/2)";var l=o.querySelector(".flourish-credit");l&&(l.style.position="sticky",l.style.top="calc(50vh + "+a+"/2)"),t.forEach((function(e,t){var n="string"==typeof e&&""!=e.trim(),i=document.createElement("div");i.setAttribute("data-slide",t),i.classList.add("fl-scrolly-caption"),i.style.position="relative",i.style.transform="translate3d(0,0,0)",i.style.textAlign="center",i.style.maxWidth="500px",i.style.height="auto",i.style.marginTop="0",i.style.marginBottom=n?"100vh":"50vh",i.style.marginLeft="auto",i.style.marginRight="auto";var r=document.createElement("div");r.innerHTML=de.sanitize(e,{ADD_ATTR:["target"]}),r.style.visibility=n?"":"hidden",r.style.display="inline-block",r.style.paddingTop="1.25em",r.style.paddingRight="1.25em",r.style.paddingBottom="1.25em",r.style.paddingLeft="1.25em",r.style.background="rgba(255,255,255,0.9)",r.style.boxShadow="0px 0px 10px rgba(0,0,0,0.2)",r.style.borderRadius="10px",r.style.textAlign="center",r.style.maxWidth="100%",r.style.margin="0 20px",r.style.overflowX="hidden",i.appendChild(r),o.appendChild(i)})),function(e){for(var t=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var n=e.querySelector("iframe");n&&(n.src=n.src.replace(/#slide-.*/,"")+"#slide-"+t.target.getAttribute("data-slide"))}}))}),{rootMargin:"0px 0px -0% 0px"}),n=e.querySelectorAll(".fl-scrolly-caption"),o=0;o<n.length;o++)t.observe(n[o]);e.querySelectorAll(".fl-scrolly-caption img").forEach((function(e){e.style.maxWidth="100%"}))}(o)}function xe(e,t,n,o,i){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)Oe(e,t,r,n,o,i);else{var a={embed_url:e,container:t,iframe:r,width:n,height:o,play_on_load:i};if(window._flourish_poll_items?window._flourish_poll_items.push(a):window._flourish_poll_items=[a],window._flourish_poll_items.length>1)return r;var l=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(Oe(e.embed_url,e.container,e.iframe,e.width,e.height,e.play_on_load),!1)})),window._flourish_poll_items.length||clearInterval(l)}),500)}return r}function Oe(e,t,n,o,i,r){var a;return o&&"number"==typeof o?(a=o,o+="px"):o&&o.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(a=parseFloat(o)),i&&"number"==typeof i&&(i+="px"),o?n.style.width=o:ge()?n.style.width=t.offsetWidth+"px":n.style.width="100%",!!i||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",i=pe(a||n.offsetWidth)+"px"),i&&("%"===i.charAt(i.length-1)&&(i=parseFloat(i)/100*t.parentNode.offsetHeight+"px"),n.style.height=i),n.setAttribute("src",e+(r?"#play-on-load":"")),n}function Re(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function Le(e,t){for(const n in t)Re(e[n])&&Re(t[n])?Le(e[n],t[n]):e[n]=t[n];return e}!function(){var e,i=window.top===window.self,r=i?null:(ue="#amp=1"==window.location.hash,{createEmbedIframe:xe,isFixedHeight:me,getHeightForBreakpoint:pe,startEventListeners:be,notifyParentWindow:he,initScrolly:fe,createScrolly:Ne,isSafari:ge,initCustomerAnalytics:o,addAnalyticsListener:n,sendCustomerAnalyticsMessage:t}),a=!0;function l(){var t;Flourish.fixed_height||(null!=e?t=e:a&&(t=r.getHeightForBreakpoint()),t!==window.innerHeight&&r.notifyParentWindow(t))}function s(){-1!==window.location.search.indexOf("enable_customer_analytics=1")&&Flourish.enableCustomerAnalytics(),l(),window.addEventListener("resize",l)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),i||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(i||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var n={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(n),"*")}else if("story_editor"===Flourish.environment){var o={};o[e]=t,Le(window.template.state,function(e){var t=Object.create(null);for(var n in e){for(var o=t,i=n.indexOf("."),r=0;i>=0;i=n.indexOf(".",r=i+1)){var a=n.substring(r,i);a in o||(o[a]=Object.create(null)),o=o[a]}o[n.substring(r)]=e[n]}return t}(o))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,a=null==t,l())},Flourish.checkHeight=function(){if(!i){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,r.notifyParentWindow(e)):r.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,l())}},Flourish.fixed_height=i||r.isFixedHeight(),Flourish.enableCustomerAnalytics=function(){r&&r.initCustomerAnalytics()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
			function _Flourish_unflattenInto(dest, src) {
				dest = dest || {};
				for (var k in src) {
					var t = dest;
					for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
						var s = k.substring(p, i);
						if (!(s in t)) t[s] = {};
						t = t[s];
					}
					t[k.substring(p)] = src[k];
				}
				return dest;
			}
			var _Flourish_settings = {"clickable_svg_animation_config":false,"clickable_svg_animation_duration":0.5,"content_default":"","content_size":0,"h1_default":"","h1_size":"0","h2_default":"","h2_size":"0","layout.screenreader_hide_primary":true,"mobile_svg_width":100,"mobile_view":false,"popup.mode":"popup","popup.popup_header_type":"inline","popup.popup_is_custom":false,"popup.popup_list_type":"table","popup.show_popup_styles":true,"svg_url":"https://public.flourish.studio/uploads/2128988/9f5c5e12-e7f9-449f-a53c-9f5e1dd83827.svg","svg_width_wide":100,"text_panel_enabled":false,"url_state.enabled":true,"layout.margin_top":0.3125,"layout.margin_right":0.3125,"layout.margin_bottom":0.3125,"layout.margin_left":0.3125,"layout.space_between_sections":"1","layout.space_between_sections_custom":0.625,"layout.font_color":"#0a0a0a","layout.header_border":"top","layout.header_border_width":3,"layout.header_border_color":"#0a0a0a","layout.header_border_space":0.625,"layout.title_size":"custom","layout.title_size_custom":1.3,"layout.title_color":"#0a0a0a","layout.subtitle_color":"#0a0a0a","layout.title_space_above":"custom","layout.title_space_above_custom":0.625,"layout.subtitle_size":"custom","layout.subtitle_size_custom":1.2,"layout.subtitle_space_above":"custom","layout.subtitle_space_above_custom":0.625,"layout.header_text_size":"custom","layout.header_text_size_custom":1,"layout.header_text_space_above":"custom","layout.header_text_space_above_custom":0.625,"layout.footer_text_size":0.8,"layout.footer_color":"#a0a0a0","layout.footer_border":"bottom","layout.footer_border_color":"#0a0a0a","layout.footer_border_space":0.625,"layout.footer_logo_enabled":true,"layout.footer_logo_height":1.2,"layout.footer_logo_src":"https://public.flourish.studio/uploads/1148293/bfa72141-4f6d-4690-ba9d-8f49d4bc6688.png","layout.header_text_styling":false,"layout.multiple_sources":false,"color.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"popup.popup_text_color":"#0a0a0a","popup.popup_width":20,"popup.popup_padding":0.75,"popup.popup_radius":0.75,"popup.popup_shadow":false,"popup.popup_header_background":"#0a0a0a","popup.popup_list_label_weight":"bold","controls.control_type":"buttons","controls.button_group":false,"controls.button_group_width_mode":"full","controls.control_styles":true,"controls_style.font_size":1.2,"controls_style.padding":1,"button_style.background":"#ffffff","button_style.font_color":"#0a0a0a","button_style.background_selected":"#0a0a0a","button_style.background_hover":"#cccccc","button_style.border_radius":10,"button_style.button_styles_advanced":true,"dropdown_style.border_styles_advanced":false,"line_end_labels":false,"dot_mode":"off","x.linear_min":0,"x.line_and_tick_color":"#0a0a0a","x.line_and_tick_width":0.06,"x.tick_label_color":null,"x.gridline_color":"#cccccc","x.gridline_width":0.03,"x.title_color":null,"x.title_styling":true,"x.tick_label_styling":true,"x.tick_label_angle":"0","x.gridlines_styling":false,"y.linear_min":0,"y.line_and_tick_color":"#0a0a0a","y.line_and_tick_width":0.06,"y.tick_label_color":null,"y.tick_label_position":"above","y.gridline_color":"#cccccc","y.gridline_width":0.03,"y.title_color":null,"y.title_styling":false,"y.gridlines_styling":false,"y.tick_label_styling":true,"y.line_visible":false,"legend_container.orientation":"vertical","legend_categorical.swatch_width":1,"legend_categorical.swatch_radius":11,"legend_continuous.color_band_width":12,"legend_continuous.color_band_height":1.2,"legend_continuous.color_band_radius":10,"legend_size.shape_fill":"#cccccc","legend_size.shape_stroke":"#0a0a0a","legend_mode":"on","colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"color.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"colors.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map_categorical_colors.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"point_categorical_colors.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"point_colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map_colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map.points.colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map.regions.colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"legend_categorical_points.swatch_width":1,"legend_categorical_map.swatch_width":1,"legend_categorical_points.swatch_radius":11,"legend_categorical_map.swatch_radius":11,"legend_continuous_points.color_band_width":12,"legend_continuous_map.color_band_width":12,"legend_continuous_points.color_band_height":1.2,"legend_continuous_map.color_band_height":1.2,"legend_continuous_points.color_band_radius":10,"legend_continuous_map.color_band_radius":10,"layout.body_font":{"name":"Inter","url":"https://fonts.googleapis.com/css?family=Inter:400,700"}};
			_Flourish_unflattenInto(window.template.state, _Flourish_settings);

			var _Flourish_data_column_names = {"data":{"h3":"Heading","id":"ID","metadata":["Heading"]}},
				_Flourish_data_metadata = {"data":{"h3":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"id":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"metadata":[{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}]}},
				_Flourish_data_timestamps = {"data":{"last_updated":new Date(1753901167281)}},
				_Flourish_data = {"data":[{"h3":"Uber arriving","id":"uber","metadata":["Uber arriving"]},{"h3":"Self check in screens","id":"checkin","metadata":["Self check in screens"]},{"h3":"Security bins / TSA check","id":"TSA","metadata":["Security bins / TSA check"]},{"h3":"Terminal air","id":"air","metadata":["Terminal air"]},{"h3":"Airport lounges","id":"lounge","metadata":["Airport lounges"]},{"h3":"Toilets","id":"toilets","metadata":["Toilets"]},{"h3":"Inside the aircraft","id":"inside","metadata":["Inside the aircraft"]},{"h3":"Customs","id":"customs","metadata":["Customs"]},{"h3":"Baggage claim area","id":"baggage","metadata":["Baggage claim area"]},{"h3":"Ground transportation","id":"ground","metadata":["Ground transportation"]},{"h3":"Water fountain","id":"water","metadata":["Water fountain"]}]},
				_Flourish_visualisation_id = 24477999,
				_Flourish_visualisation_version_number = 51,
				_Flourish_template_id = 75294;
			for (var _Flourish_dataset in _Flourish_data) {
					window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
					window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
					window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
					window.template.data[_Flourish_dataset].timestamps = _Flourish_data_timestamps[_Flourish_dataset];
			}

			if (Flourish.enableCustomerAnalytics) { Flourish.enableCustomerAnalytics(); }
			window.template.draw();
		</script></body></html>